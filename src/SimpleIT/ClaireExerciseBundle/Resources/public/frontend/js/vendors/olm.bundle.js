!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=79)}({79:function(e,t,i){"use strict";i.r(t);class n{static getFrameworkSample(){return{name:"LIFAP2",objects:[{name:"Récursivité",type:"Competency",relations:{isSkillOf:[],hasSkill:["Reconnaître un algo récursif"],isKnowledgeOf:[],hasKnowledge:["Définition de la récursivité"],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Reconnaître un algo récursif",type:"Skills",relations:{isSkillOf:["Récursivité"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Définition de la récursivité"],isRequiredBy:[]}},{name:"Définition de la récursivité",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["Récursivité"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Reconnaître un algo récursif"]}},{name:"Algo récursif",type:"Competency",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:["Les 3 questions à se poser","Dans quel ordre se les poser","Structure de fonction récursive"],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Fonction Scheme récursive"]}},{name:"Les 3 questions à se poser",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["Algo récursif"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Dans quel ordre se les poser"]}},{name:"Dans quel ordre se les poser",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["Algo récursif"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Les 3 questions à se poser"],isRequiredBy:[]}},{name:"Structure de fonction récursive",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["Algo récursif"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"TDA liste et arbre",type:"Competency",relations:{isSkillOf:[],hasSkill:["Parcourir une liste","Parcourir un arbre","Distinguer ABR / arbre non ordonné"],isKnowledgeOf:[],hasKnowledge:["Définition d'une liste chaînée","Définition d'un arbre binaire","Définition d'un ABR"],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Parcourir une liste",type:"Skills",relations:{isSkillOf:["TDA liste et arbre"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Définition d'une liste chaînée"],isRequiredBy:["Fonction Scheme récursive: listes"]}},{name:"Parcourir un arbre",type:"Skills",relations:{isSkillOf:["TDA liste et arbre"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Définition d'un arbre binaire"],isRequiredBy:["Fonction Scheme récursive: arbres"]}},{name:"Distinguer ABR / arbre non ordonné",type:"Skills",relations:{isSkillOf:["TDA liste et arbre"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Définition d'un ABR"],isRequiredBy:[]}},{name:"Définition d'une liste chaînée",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["TDA liste et arbre"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Parcourir une liste","Fonction sur les listes: représentation"]}},{name:"Définition d'un arbre binaire",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["TDA liste et arbre"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Parcourir un arbre"]}},{name:"Définition d'un ABR",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["TDA liste et arbre"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Distinguer ABR / arbre non ordonné"]}},{name:"Fonction Scheme",type:"Competency",relations:{isSkillOf:[],hasSkill:["Let: Mémoriser une valeur","Let: indispensable ou non","Evaluer une expression Scheme"],isKnowledgeOf:[],hasKnowledge:["Structure conditionnelle/alternative","En-tête de fonction","Let","Processus d'évaluation de l'appel à une fonction","Fonctions prédéfinies","Primitives sur les arbres"],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:["Fonction Scheme non récursive","Fonction Scheme récursive"],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Structure conditionnelle/alternative",type:"Competency",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["Fonction Scheme"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"En-tête de fonction",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["Fonction Scheme"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme non récursive",type:"Competency",relations:{isSkillOf:[],hasSkill:["Fonction Scheme non récursive: nombres","Fonction Scheme non récursive: listes","Fonction Scheme non récursive: arbres"],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme récursive",type:"Competency",relations:{isSkillOf:[],hasSkill:["Fonction Scheme récursive: nombres","Fonction Scheme récursive: listes","Fonction Scheme récursive: arbres","Fonction Scheme récursive: écrire en remontant ou descendant","Fonction Scheme récursive: déterminer si remontant ou descendant"],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Algo récursif"],isRequiredBy:[]}},{name:"Let: Mémoriser une valeur",type:"Skills",relations:{isSkillOf:["Fonction Scheme"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Let: indispensable ou non","Let"],isRequiredBy:["Fonction Scheme récursive: listes -> 2 résultats","Fonction Scheme récursive: listes + profondeur -> 2 résultats","Fonction Scheme récursive: arbres -> 2 résultats"]}},{name:"Let: indispensable ou non",type:"Skills",relations:{isSkillOf:["Fonction Scheme"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Let: Mémoriser une valeur"]}},{name:"Let",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["Fonction Scheme"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Let: Mémoriser une valeur"]}},{name:"Evaluer une expression Scheme",type:"Skills",relations:{isSkillOf:["Fonction Scheme"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Processus d'évaluation de l'appel à une fonction","Fonctions prédéfinies"],isRequiredBy:[]}},{name:"Processus d'évaluation de l'appel à une fonction",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["Fonction Scheme"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Evaluer une expression Scheme"]}},{name:"Fonctions prédéfinies",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["Fonction Scheme"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:["Forme spéciale","Fonction de calcul","Fonction sur les listes"],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Evaluer une expression Scheme"]}},{name:"Primitives sur les arbres",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:["Fonction Scheme"],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:["Primitives sur les arbres: Représentation d'un arbre binaire","Primitives sur les arbres: Primitives d'accès","Primitives sur les arbres: Primitives de construction","Primitives sur les arbres: Primitives de test"],hasLearning:[],hasTraining:[],requires:["Primitives sur les arbres: Représentation d'un arbre binaire"],isRequiredBy:["Fonction Scheme non récursive: arbres"]}},{name:"Fonction Scheme non récursive: nombres",type:"Skills",relations:{isSkillOf:["Fonction Scheme non récursive"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:["Fonction Scheme non récursive: nombres -> booléen","Fonction Scheme non récursive: nombres -> nombre"],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: listes",type:"Skills",relations:{isSkillOf:["Fonction Scheme non récursive"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:["Fonction Scheme non récursive: listes -> booléen","Fonction Scheme non récursive: listes -> nombre","Fonction Scheme non récursive: listes -> liste"],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes"],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: arbres",type:"Skills",relations:{isSkillOf:["Fonction Scheme non récursive"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:["Fonction Scheme non récursive: arbres -> booléen","Fonction Scheme non récursive: arbres -> nombre","Fonction Scheme non récursive: arbres -> liste","Fonction Scheme non récursive: arbres -> arbre"],hasLearning:[],hasTraining:[],requires:["Primitives sur les arbres"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: nombres",type:"Skills",relations:{isSkillOf:["Fonction Scheme récursive"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:["Fonction Scheme récursive: nombres -> booléen","Fonction Scheme récursive: nombres -> nombre"],hasLearning:[],hasTraining:[],requires:["Fonction de calcul"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: listes",type:"Skills",relations:{isSkillOf:["Fonction Scheme récursive"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:["Fonction Scheme récursive: listes -> booléen","Fonction Scheme récursive: listes -> nombre","Fonction Scheme récursive: listes -> liste","Fonction Scheme récursive: listes -> 2 résultats","Fonction Scheme récursive: listes + profondeur"],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes","Parcourir une liste"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: arbres",type:"Skills",relations:{isSkillOf:["Fonction Scheme récursive"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:["Fonction Scheme récursive: arbres -> booléen","Fonction Scheme récursive: arbres -> nombre","Fonction Scheme récursive: arbres -> liste","Fonction Scheme récursive: arbres -> arbre","Fonction Scheme récursive: arbres -> 2 résultats"],hasLearning:[],hasTraining:[],requires:["Primitives sur les arbres","Parcourir un arbre"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: écrire en remontant ou descendant",type:"Skills",relations:{isSkillOf:["Fonction Scheme récursive"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction Scheme récursive: déterminer si remontant ou descendant"],isRequiredBy:["Fonction Scheme récursive: arbres -> 2 résultats","Fonction Scheme récursive: listes -> 2 résultats","Fonction Scheme récursive: listes + profondeur -> 2 résultats"]}},{name:"Fonction Scheme récursive: déterminer si remontant ou descendant",type:"Skills",relations:{isSkillOf:["Fonction Scheme récursive"],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:[],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Fonction Scheme récursive: écrire en remontant ou descendant"]}},{name:"Forme spéciale",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonctions prédéfinies"],isComposedOf:["Fonctions prédéfinies: define","Fonctions prédéfinies: quote","Fonctions prédéfinies: eval"],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction de calcul",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonctions prédéfinies"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Fonction Scheme non récursive: nombres -> booléen","Fonction Scheme non récursive: nombres -> nombre","Fonction Scheme non récursive: listes -> nombre","Fonction Scheme non récursive: arbres -> nombre","Fonction Scheme récursive: nombres","Fonction Scheme récursive: nombres -> booléen","Fonction Scheme récursive: nombres -> nombre","Fonction Scheme récursive: listes -> nombre","Fonction Scheme récursive: arbres -> nombre"]}},{name:"Fonction sur les listes",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonctions prédéfinies"],isComposedOf:["Fonction sur les listes: représentation","Fonction sur les listes: primitive d'accès","Fonction sur les listes: primitive de construction","Fonction sur les listes: primitive de test","Fonction sur les listes: choisir la bonne primitive"],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:["Fonction Scheme non récursive: listes","Fonction Scheme non récursive: listes -> booléen","Fonction Scheme non récursive: listes -> nombre","Fonction Scheme non récursive: listes -> liste","Fonction Scheme non récursive: arbres -> liste","Fonction Scheme récursive: listes","Fonction Scheme récursive: listes -> booléen","Fonction Scheme récursive: listes -> nombre","Fonction Scheme récursive: listes -> liste","Fonction Scheme récursive: arbres -> liste"]}},{name:"Primitives sur les arbres: Représentation d'un arbre binaire",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Primitives sur les arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:["Primitives sur les arbres","Primitives sur les arbres: Primitives d'accès","Primitives sur les arbres: Primitives de construction","Primitives sur les arbres: Primitives de test"]}},{name:"Primitives sur les arbres: Primitives d'accès",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Primitives sur les arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Primitives sur les arbres: Représentation d'un arbre binaire"],isRequiredBy:[]}},{name:"Primitives sur les arbres: Primitives de construction",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Primitives sur les arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Primitives sur les arbres: Représentation d'un arbre binaire"],isRequiredBy:[]}},{name:"Primitives sur les arbres: Primitives de test",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Primitives sur les arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Primitives sur les arbres: Représentation d'un arbre binaire"],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: nombres -> booléen",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme non récursive: nombres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction de calcul"],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: nombres -> nombre",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme non récursive: nombres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction de calcul"],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: listes -> booléen",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme non récursive: listes"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes"],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: listes -> nombre",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme non récursive: listes"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction de calcul","Fonction sur les listes"],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: listes -> liste",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme non récursive: listes"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes"],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: arbres -> booléen",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme non récursive: arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: arbres -> nombre",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme non récursive: arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction de calcul"],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: arbres -> liste",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme non récursive: arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes"],isRequiredBy:[]}},{name:"Fonction Scheme non récursive: arbres -> arbre",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme non récursive: arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme récursive: nombres -> booléen",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: nombres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction de calcul"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: nombres -> nombre",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: nombres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction de calcul"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: listes -> booléen",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: listes"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: listes -> nombre",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: listes"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction de calcul","Fonction sur les listes"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: listes -> liste",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: listes"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: listes -> 2 résultats",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: listes"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Let: Mémoriser une valeur","Fonction Scheme récursive: écrire en remontant ou descendant"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: listes + profondeur",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: listes"],isComposedOf:["Fonction Scheme récursive: listes + profondeur -> booléen","Fonction Scheme récursive: listes + profondeur -> nombre","Fonction Scheme récursive: listes + profondeur -> liste","Fonction Scheme récursive: listes + profondeur -> 2 résultats"],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme récursive: arbres -> booléen",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme récursive: arbres -> nombre",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction de calcul"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: arbres -> liste",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: arbres -> arbre",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme récursive: arbres -> 2 résultats",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: arbres"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Let: Mémoriser une valeur","Fonction Scheme récursive: écrire en remontant ou descendant"],isRequiredBy:[]}},{name:"Fonction sur les listes: représentation",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Définition d'une liste chaînée"],isRequiredBy:["Fonction sur les listes","Fonction sur les listes: primitive d'accès","Fonction sur les listes: primitive d'accès car","Fonction sur les listes: primitive d'accès cdr","Fonction sur les listes: primitive de construction","Fonction sur les listes: primitive de construction cons","Fonction sur les listes: primitive de construction append","Fonction sur les listes: primitive de construction list","Fonction sur les listes: primitive de test","Fonction sur les listes: primitive de test list?","Fonction sur les listes: primitive de test pair?","Fonction sur les listes: primitive de test null?/empty?","Fonction sur les listes: choisir la bonne primitive"]}},{name:"Fonction sur les listes: primitive d'accès",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes"],isComposedOf:["Fonction sur les listes: primitive d'accès car","Fonction sur les listes: primitive d'accès cdr"],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:["Fonction sur les listes: primitive de construction","Fonction sur les listes: choisir la bonne primitive"]}},{name:"Fonction sur les listes: primitive de construction",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes"],isComposedOf:["Fonction sur les listes: primitive de construction cons","Fonction sur les listes: primitive de construction append","Fonction sur les listes: primitive de construction list"],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:["Fonction sur les listes: choisir la bonne primitive"]}},{name:"Fonction sur les listes: primitive de test",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes"],isComposedOf:["Fonction sur les listes: primitive de test list?","Fonction sur les listes: primitive de test pair?","Fonction sur les listes: primitive de test null?/empty?"],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:[]}},{name:"Fonction sur les listes: choisir la bonne primitive",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation","Fonction sur les listes: primitive d'accès","Fonction sur les listes: primitive de construction"],isRequiredBy:[]}},{name:"Fonction Scheme récursive: listes + profondeur -> booléen",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: listes + profondeur"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme récursive: listes + profondeur -> nombre",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: listes + profondeur"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme récursive: listes + profondeur -> liste",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: listes + profondeur"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:[],isRequiredBy:[]}},{name:"Fonction Scheme récursive: listes + profondeur -> 2 résultats",type:"Skills",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction Scheme récursive: listes + profondeur"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Let: Mémoriser une valeur","Fonction Scheme récursive: écrire en remontant ou descendant"],isRequiredBy:[]}},{name:"Fonction sur les listes: primitive d'accès car",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes: primitive d'accès"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:[]}},{name:"Fonction sur les listes: primitive d'accès cdr",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes: primitive d'accès"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:[]}},{name:"Fonction sur les listes: primitive de construction cons",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes: primitive de construction"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:[]}},{name:"Fonction sur les listes: primitive de construction append",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes: primitive de construction"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:[]}},{name:"Fonction sur les listes: primitive de construction list",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes: primitive de construction"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:[]}},{name:"Fonction sur les listes: primitive de test list?",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes: primitive de test"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:[]}},{name:"Fonction sur les listes: primitive de test pair?",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes: primitive de test"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:[]}},{name:"Fonction sur les listes: primitive de test null?/empty?",type:"Knowledge",relations:{isSkillOf:[],hasSkill:[],isKnowledgeOf:[],hasKnowledge:[],complexifies:[],isComplexificationOf:[],isLeverOfUnderstandingOf:[],facilitatesUnderstandingOf:[],comprises:[],isComprisedIn:[],composes:["Fonction sur les listes: primitive de test"],isComposedOf:[],hasLearning:[],hasTraining:[],requires:["Fonction sur les listes: représentation"],isRequiredBy:[]}}]}}static getScoredFrameworkSample(){let e=n.getFrameworkSample(),t=new Set,i=function(e,t){t?(Math.random()>.75?(e.mastery=0,e.trust=0,e.resourcesCompleted=0):(e.mastery=Math.floor(11*Math.random())/10,e.trust=Math.floor(4*Math.random()+1)/10,e.resourcesCompleted=e.trust),e.cover=void 0):(e.trust=Math.floor(4*Math.random())/10,e.mastery=Math.floor(11*Math.random())/10,e.cover=0,e.resourcesCompleted=void 0)},s=function(e,t){for(let i=0;i<e.length;i++)if(e[i].name===t)return e[i];return null};for(e.objects.forEach(e=>{e.children=[e.relations.hasSkill,e.relations.hasKnowledge,e.relations.isComposedOf].flat(),e.parents=[e.relations.isSkillOf,e.relations.isKnowledgeOf,e.relations.composes].flat()}),e.objects.forEach(e=>{0===e.children.length?(e.parents.forEach(e=>{t.add(e)}),i(e,!0)):Math.random()>.75?i(e,!1):e.cover=e.mastery=e.trust=0});t.size>0;){let i=new Set;t.forEach(t=>{let n=s(e.objects,t),r=[];n.children.forEach(t=>{r.push(s(e.objects,t))});let o=0,a=0,l=0;r.forEach(e=>{void 0!==e.resourcesCompleted?o+=0!==e.resourcesCompleted?1:0:o+=e.cover,a+=e.mastery}),o/=Math.max(r.length,1),a/=Math.max(r.length,1),l=(n.trust+o)/2,n.cover=o,n.masteyr=Math.round(a),n.trust=Math.round(l),n.parents.forEach(e=>{i.add(e)})}),t=i}return e}static makeId(e="",t=6){for(var i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=n.length,r=0;r<t;r++)i+=n.charAt(Math.floor(Math.random()*s));return e+Date.now()+i}}class s{constructor(){this.root=null,this.nodes=new Map}static copy(e){let t=new s;return t.nodes=new Map(e.nodes),t.root=e.root,t}getNodeParentByDepth(e,t){for(;e.depth>t;)e=this.nodes.get(e.parent);return e}buildFromFramework(e){this.root={id:n.makeId(),data:{name:e.name,type:"framework"},parent:null,children:[],depth:0},this.nodes.set(this.root.id,this.root);let t=Array.from(e.objects),i=0,s=new Map;for(;t.length>0;){let e=!0,r=t[i],o=[r.relations.isSkillOf,r.relations.isKnowledgeOf,r.relations.composes].flat();if(0===o.length){let o=n.makeId(),a={id:o,data:r,parent:this.root.id,children:[],depth:1};this.nodes.set(o,a),this.root.children.push(o),s.set(r.name,o),t.splice(i,1),e=!1}else void 0===r.linkedParents&&(r.linkedParents=[]),o.forEach(e=>{if(!r.linkedParents.includes(e)){let t=s.get(e);if(void 0!==t){let i=this.nodes.get(t),o=n.makeId(),a={id:o,data:r,parent:t,children:[],depth:i.depth+1};this.nodes.set(o,a),i.children.push(o),s.set(r.name,o),r.linkedParents.push(e)}}}),r.linkedParents.length===o.length&&(t.splice(i,1),e=!1);e&&(i+=1),i>=t.length&&(i=0)}}getRoot(){return this.root}getNode(e){return this.nodes.get(e)}getNodes(){return Array.from(this.nodes.values())}getNearestCommonAncestor(e,t){for(;e.depth>t.depth;)e=this.getNode(e.parent);for(;t.depth>e.depth;)t=this.getNode(t.parent);for(;e.id!==t.id;)e=this.getNode(e.parent),t=this.getNode(t.parent);return e}getNodesByDepth(e){let t=this.nodes,i=[];return function n(s){if(s.depth<e)for(var r=0,o=s.children.length;r<o;r++)n(t.get(s.children[r]));s.depth===e&&i.push(s)}(this.root),i}traverseDeepFirst(e,t=this.root){let i=this.nodes;!function t(n){for(var s=0,r=n.children.length;s<r;s++)t(i.get(n.children[s]));e(n)}(t)}findNodes(...e){function t(e,t){if(null===e.data||void 0===e.data)return!1;for(let i=0;i<t.length;i++){let n=t[i][0],s=t[i][1].split("."),r=e.data[s[0]];if(void 0===r)return!1;for(let e=1;e<s.length;e++){if(void 0===r[s[e]])return!1;r=r[s[e]]}if(Array.isArray(r)&&!r.includes(n)||!Array.isArray(r)&&r!==n)return!1}return!0}let i=[],n=Array.from(this.nodes.values());for(let s=0;s<n.length;s++){let r=n[s];t(r,e)&&i.push(r)}return i}getSiblings(e){let t=this.nodes.get(e),i=this.nodes.get(t.parent),n=[];return i.children.forEach(e=>{n.push(this.nodes.get(e))}),n}}class r{}r.Utils=n,r.FrameworkTree=s;var o={value:()=>{}};function a(){for(var e,t=0,i=arguments.length,n={};t<i;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new l(n)}function l(e){this._=e}function c(e,t){return e.trim().split(/^|\s+/).map((function(e){var i="",n=e.indexOf(".");if(n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}}))}function h(e,t){for(var i,n=0,s=e.length;n<s;++n)if((i=e[n]).name===t)return i.value}function u(e,t,i){for(var n=0,s=e.length;n<s;++n)if(e[n].name===t){e[n]=o,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=i&&e.push({name:t,value:i}),e}l.prototype=a.prototype={constructor:l,on:function(e,t){var i,n=this._,s=c(e+"",n),r=-1,o=s.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++r<o;)if(i=(e=s[r]).type)n[i]=u(n[i],e.name,t);else if(null==t)for(i in n)n[i]=u(n[i],e.name,null);return this}for(;++r<o;)if((i=(e=s[r]).type)&&(i=h(n[i],e.name)))return i},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new l(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var i,n,s=new Array(i),r=0;r<i;++r)s[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,i=(n=this._[e]).length;r<i;++r)n[r].value.apply(t,s)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],s=0,r=n.length;s<r;++s)n[s].value.apply(t,i)}};var d=a;function f(){}var p=function(e){return null==e?f:function(){return this.querySelector(e)}},m=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)};function g(){return[]}var v=function(e){return null==e?g:function(){return this.querySelectorAll(e)}};var y=function(e){return function(){return this.matches(e)}};function w(e){return function(t){return t.matches(e)}}var x=Array.prototype.find;function O(){return this.firstElementChild}var b=Array.prototype.filter;function C(){return this.children}var _=function(e){return new Array(e.length)};function S(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}S.prototype={constructor:S,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var k=function(e){return function(){return e}};function F(e,t,i,n,s,r){for(var o,a=0,l=t.length,c=r.length;a<c;++a)(o=t[a])?(o.__data__=r[a],n[a]=o):i[a]=new S(e,r[a]);for(;a<l;++a)(o=t[a])&&(s[a]=o)}function L(e,t,i,n,s,r,o){var a,l,c,h=new Map,u=t.length,d=r.length,f=new Array(u);for(a=0;a<u;++a)(l=t[a])&&(f[a]=c=o.call(l,l.__data__,a,t)+"",h.has(c)?s[a]=l:h.set(c,l));for(a=0;a<d;++a)c=o.call(e,r[a],a,r)+"",(l=h.get(c))?(n[a]=l,l.__data__=r[a],h.delete(c)):i[a]=new S(e,r[a]);for(a=0;a<u;++a)(l=t[a])&&h.get(f[a])===l&&(s[a]=l)}function M(e){return e.__data__}function T(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var q="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},B=function(e){var t=e+="",i=t.indexOf(":");return i>=0&&"xmlns"!==(t=e.slice(0,i))&&(e=e.slice(i+1)),K.hasOwnProperty(t)?{space:K[t],local:e}:e};function U(e){return function(){this.removeAttribute(e)}}function A(e){return function(){this.removeAttributeNS(e.space,e.local)}}function I(e,t){return function(){this.setAttribute(e,t)}}function R(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function E(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}}function H(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}var N=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function P(e){return function(){this.style.removeProperty(e)}}function V(e,t,i){return function(){this.style.setProperty(e,t,i)}}function $(e,t,i){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function D(e,t){return e.style.getPropertyValue(t)||N(e).getComputedStyle(e,null).getPropertyValue(t)}function z(e){return function(){delete this[e]}}function W(e,t){return function(){this[e]=t}}function j(e,t){return function(){var i=t.apply(this,arguments);null==i?delete this[e]:this[e]=i}}function X(e){return e.trim().split(/^|\s+/)}function Y(e){return e.classList||new G(e)}function G(e){this._node=e,this._names=X(e.getAttribute("class")||"")}function Q(e,t){for(var i=Y(e),n=-1,s=t.length;++n<s;)i.add(t[n])}function Z(e,t){for(var i=Y(e),n=-1,s=t.length;++n<s;)i.remove(t[n])}function J(e){return function(){Q(this,e)}}function ee(e){return function(){Z(this,e)}}function te(e,t){return function(){(t.apply(this,arguments)?Q:Z)(this,e)}}G.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ie(){this.textContent=""}function ne(e){return function(){this.textContent=e}}function se(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function re(){this.innerHTML=""}function oe(e){return function(){this.innerHTML=e}}function ae(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function le(){this.nextSibling&&this.parentNode.appendChild(this)}function ce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function he(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===q&&t.documentElement.namespaceURI===q?t.createElement(e):t.createElementNS(i,e)}}function ue(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var de=function(e){var t=B(e);return(t.local?ue:he)(t)};function fe(){return null}function pe(){var e=this.parentNode;e&&e.removeChild(this)}function me(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ge(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ve(e){return e.trim().split(/^|\s+/).map((function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}}))}function ye(e){return function(){var t=this.__on;if(t){for(var i,n=0,s=-1,r=t.length;n<r;++n)i=t[n],e.type&&i.type!==e.type||i.name!==e.name?t[++s]=i:this.removeEventListener(i.type,i.listener,i.options);++s?t.length=s:delete this.__on}}}function we(e,t,i){return function(){var n,s=this.__on,r=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(s)for(var o=0,a=s.length;o<a;++o)if((n=s[o]).type===e.type&&n.name===e.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=r,n.options=i),void(n.value=t);this.addEventListener(e.type,r,i),n={type:e.type,name:e.name,value:t,listener:r,options:i},s?s.push(n):this.__on=[n]}}function xe(e,t,i){var n=N(e),s=n.CustomEvent;"function"==typeof s?s=new s(t,i):(s=n.document.createEvent("Event"),i?(s.initEvent(t,i.bubbles,i.cancelable),s.detail=i.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Oe(e,t){return function(){return xe(this,e,t)}}function be(e,t){return function(){return xe(this,e,t.apply(this,arguments))}}var Ce=[null];function _e(e,t){this._groups=e,this._parents=t}function Se(){return new _e([[document.documentElement]],Ce)}_e.prototype=Se.prototype={constructor:_e,select:function(e){"function"!=typeof e&&(e=p(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var r,o,a=t[s],l=a.length,c=n[s]=new Array(l),h=0;h<l;++h)(r=a[h])&&(o=e.call(r,r.__data__,h,a))&&("__data__"in r&&(o.__data__=r.__data__),c[h]=o);return new _e(n,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:m(t)}}(e):v(e);for(var t=this._groups,i=t.length,n=[],s=[],r=0;r<i;++r)for(var o,a=t[r],l=a.length,c=0;c<l;++c)(o=a[c])&&(n.push(e.call(o,o.__data__,c,a)),s.push(o));return new _e(n,s)},selectChild:function(e){return this.select(null==e?O:function(e){return function(){return x.call(this.children,e)}}("function"==typeof e?e:w(e)))},selectChildren:function(e){return this.selectAll(null==e?C:function(e){return function(){return b.call(this.children,e)}}("function"==typeof e?e:w(e)))},filter:function(e){"function"!=typeof e&&(e=y(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var r,o=t[s],a=o.length,l=n[s]=[],c=0;c<a;++c)(r=o[c])&&e.call(r,r.__data__,c,o)&&l.push(r);return new _e(n,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,M);var i=t?L:F,n=this._parents,s=this._groups;"function"!=typeof e&&(e=k(e));for(var r=s.length,o=new Array(r),a=new Array(r),l=new Array(r),c=0;c<r;++c){var h=n[c],u=s[c],d=u.length,f=m(e.call(h,h&&h.__data__,c,n)),p=f.length,g=a[c]=new Array(p),v=o[c]=new Array(p),y=l[c]=new Array(d);i(h,u,g,v,y,f,t);for(var w,x,O=0,b=0;O<p;++O)if(w=g[O]){for(O>=b&&(b=O+1);!(x=v[b])&&++b<p;);w._next=x||null}}return(o=new _e(o,n))._enter=a,o._exit=l,o},enter:function(){return new _e(this._enter||this._groups.map(_),this._parents)},exit:function(){return new _e(this._exit||this._groups.map(_),this._parents)},join:function(e,t,i){var n=this.enter(),s=this,r=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(s=t(s)),null==i?r.remove():i(r),n&&s?n.merge(s).order():s},merge:function(e){if(!(e instanceof _e))throw new Error("invalid merge");for(var t=this._groups,i=e._groups,n=t.length,s=i.length,r=Math.min(n,s),o=new Array(n),a=0;a<r;++a)for(var l,c=t[a],h=i[a],u=c.length,d=o[a]=new Array(u),f=0;f<u;++f)(l=c[f]||h[f])&&(d[f]=l);for(;a<n;++a)o[a]=t[a];return new _e(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n,s=e[t],r=s.length-1,o=s[r];--r>=0;)(n=s[r])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this},sort:function(e){function t(t,i){return t&&i?e(t.__data__,i.__data__):!t-!i}e||(e=T);for(var i=this._groups,n=i.length,s=new Array(n),r=0;r<n;++r){for(var o,a=i[r],l=a.length,c=s[r]=new Array(l),h=0;h<l;++h)(o=a[h])&&(c[h]=o);c.sort(t)}return new _e(s,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],s=0,r=n.length;s<r;++s){var o=n[s];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var s,r=t[i],o=0,a=r.length;o<a;++o)(s=r[o])&&e.call(s,s.__data__,o,r);return this},attr:function(e,t){var i=B(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((null==t?i.local?A:U:"function"==typeof t?i.local?H:E:i.local?R:I)(i,t))},style:function(e,t,i){return arguments.length>1?this.each((null==t?P:"function"==typeof t?$:V)(e,t,null==i?"":i)):D(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?z:"function"==typeof t?j:W)(e,t)):this.node()[e]},classed:function(e,t){var i=X(e+"");if(arguments.length<2){for(var n=Y(this.node()),s=-1,r=i.length;++s<r;)if(!n.contains(i[s]))return!1;return!0}return this.each(("function"==typeof t?te:t?J:ee)(i,t))},text:function(e){return arguments.length?this.each(null==e?ie:("function"==typeof e?se:ne)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?re:("function"==typeof e?ae:oe)(e)):this.node().innerHTML},raise:function(){return this.each(le)},lower:function(){return this.each(ce)},append:function(e){var t="function"==typeof e?e:de(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var i="function"==typeof e?e:de(e),n=null==t?fe:"function"==typeof t?t:p(t);return this.select((function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(pe)},clone:function(e){return this.select(e?ge:me)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,i){var n,s,r=ve(e+""),o=r.length;if(!(arguments.length<2)){for(a=t?we:ye,n=0;n<o;++n)this.each(a(r[n],t,i));return this}var a=this.node().__on;if(a)for(var l,c=0,h=a.length;c<h;++c)for(n=0,l=a[c];n<o;++n)if((s=r[n]).type===l.type&&s.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?be:Oe)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n,s=e[t],r=0,o=s.length;r<o;++r)(n=s[r])&&(yield n)}};var ke=Se,Fe=function(e){return"string"==typeof e?new _e([[document.querySelector(e)]],[document.documentElement]):new _e([[e]],Ce)};var Le=function(e,t,i){e.prototype=t.prototype=i,i.constructor=e};function Me(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function Te(){}var qe="\\s*([+-]?\\d+)\\s*",Ke="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Be="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ue=/^#([0-9a-f]{3,8})$/,Ae=new RegExp("^rgb\\("+[qe,qe,qe]+"\\)$"),Ie=new RegExp("^rgb\\("+[Be,Be,Be]+"\\)$"),Re=new RegExp("^rgba\\("+[qe,qe,qe,Ke]+"\\)$"),Ee=new RegExp("^rgba\\("+[Be,Be,Be,Ke]+"\\)$"),He=new RegExp("^hsl\\("+[Ke,Be,Be]+"\\)$"),Ne=new RegExp("^hsla\\("+[Ke,Be,Be,Ke]+"\\)$"),Pe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ve(){return this.rgb().formatHex()}function $e(){return this.rgb().formatRgb()}function De(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=Ue.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?ze(t):3===i?new Ye(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?We(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?We(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ae.exec(e))?new Ye(t[1],t[2],t[3],1):(t=Ie.exec(e))?new Ye(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Re.exec(e))?We(t[1],t[2],t[3],t[4]):(t=Ee.exec(e))?We(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=He.exec(e))?Je(t[1],t[2]/100,t[3]/100,1):(t=Ne.exec(e))?Je(t[1],t[2]/100,t[3]/100,t[4]):Pe.hasOwnProperty(e)?ze(Pe[e]):"transparent"===e?new Ye(NaN,NaN,NaN,0):null}function ze(e){return new Ye(e>>16&255,e>>8&255,255&e,1)}function We(e,t,i,n){return n<=0&&(e=t=i=NaN),new Ye(e,t,i,n)}function je(e){return e instanceof Te||(e=De(e)),e?new Ye((e=e.rgb()).r,e.g,e.b,e.opacity):new Ye}function Xe(e,t,i,n){return 1===arguments.length?je(e):new Ye(e,t,i,null==n?1:n)}function Ye(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}function Ge(){return"#"+Ze(this.r)+Ze(this.g)+Ze(this.b)}function Qe(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Ze(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Je(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new tt(e,t,i,n)}function et(e){if(e instanceof tt)return new tt(e.h,e.s,e.l,e.opacity);if(e instanceof Te||(e=De(e)),!e)return new tt;if(e instanceof tt)return e;var t=(e=e.rgb()).r/255,i=e.g/255,n=e.b/255,s=Math.min(t,i,n),r=Math.max(t,i,n),o=NaN,a=r-s,l=(r+s)/2;return a?(o=t===r?(i-n)/a+6*(i<n):i===r?(n-t)/a+2:(t-i)/a+4,a/=l<.5?r+s:2-r-s,o*=60):a=l>0&&l<1?0:o,new tt(o,a,l,e.opacity)}function tt(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}function it(e,t,i){return 255*(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)}function nt(e,t,i,n,s){var r=e*e,o=r*e;return((1-3*e+3*r-o)*t+(4-6*r+3*o)*i+(1+3*e+3*r-3*o)*n+o*s)/6}Le(Te,De,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ve,formatHex:Ve,formatHsl:function(){return et(this).formatHsl()},formatRgb:$e,toString:$e}),Le(Ye,Xe,Me(Te,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ye(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ye(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ge,formatHex:Ge,formatRgb:Qe,toString:Qe})),Le(tt,(function(e,t,i,n){return 1===arguments.length?et(e):new tt(e,t,i,null==n?1:n)}),Me(Te,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new tt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new tt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,s=2*i-n;return new Ye(it(e>=240?e-240:e+120,s,n),it(e,s,n),it(e<120?e+240:e-120,s,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var st=e=>()=>e;function rt(e,t){return function(i){return e+i*t}}function ot(e){return 1==(e=+e)?at:function(t,i){return i-t?function(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}(t,i,e):st(isNaN(t)?i:t)}}function at(e,t){var i=t-e;return i?rt(e,i):st(isNaN(e)?t:e)}var lt=function e(t){var i=ot(t);function n(e,t){var n=i((e=Xe(e)).r,(t=Xe(t)).r),s=i(e.g,t.g),r=i(e.b,t.b),o=at(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=s(t),e.b=r(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function ct(e){return function(t){var i,n,s=t.length,r=new Array(s),o=new Array(s),a=new Array(s);for(i=0;i<s;++i)n=Xe(t[i]),r[i]=n.r||0,o[i]=n.g||0,a[i]=n.b||0;return r=e(r),o=e(o),a=e(a),n.opacity=1,function(e){return n.r=r(e),n.g=o(e),n.b=a(e),n+""}}}ct((function(e){var t=e.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),s=e[n],r=e[n+1],o=n>0?e[n-1]:2*s-r,a=n<t-1?e[n+2]:2*r-s;return nt((i-n/t)*t,o,s,r,a)}})),ct((function(e){var t=e.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*t),s=e[(n+t-1)%t],r=e[n%t],o=e[(n+1)%t],a=e[(n+2)%t];return nt((i-n/t)*t,s,r,o,a)}}));var ht=function(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}},ut=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dt=new RegExp(ut.source,"g");var ft,pt,mt=function(e,t){var i,n,s,r=ut.lastIndex=dt.lastIndex=0,o=-1,a=[],l=[];for(e+="",t+="";(i=ut.exec(e))&&(n=dt.exec(t));)(s=n.index)>r&&(s=t.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,l.push({i:o,x:ht(i,n)})),r=dt.lastIndex;return r<t.length&&(s=t.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var i,n=0;n<t;++n)a[(i=l[n]).i]=i.x(e);return a.join("")})},gt=0,vt=0,yt=0,wt=0,xt=0,Ot=0,bt="object"==typeof performance&&performance.now?performance:Date,Ct="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _t(){return xt||(Ct(St),xt=bt.now()+Ot)}function St(){xt=0}function kt(){this._call=this._time=this._next=null}function Ft(e,t,i){var n=new kt;return n.restart(e,t,i),n}function Lt(){xt=(wt=bt.now())+Ot,gt=vt=0;try{!function(){_t(),++gt;for(var e,t=ft;t;)(e=xt-t._time)>=0&&t._call.call(null,e),t=t._next;--gt}()}finally{gt=0,function(){var e,t,i=ft,n=1/0;for(;i;)i._call?(n>i._time&&(n=i._time),e=i,i=i._next):(t=i._next,i._next=null,i=e?e._next=t:ft=t);pt=e,Tt(n)}(),xt=0}}function Mt(){var e=bt.now(),t=e-wt;t>1e3&&(Ot-=t,wt=e)}function Tt(e){gt||(vt&&(vt=clearTimeout(vt)),e-xt>24?(e<1/0&&(vt=setTimeout(Lt,e-bt.now()-Ot)),yt&&(yt=clearInterval(yt))):(yt||(wt=bt.now(),yt=setInterval(Mt,1e3)),gt=1,Ct(Lt)))}kt.prototype=Ft.prototype={constructor:kt,restart:function(e,t,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?_t():+i)+(null==t?0:+t),this._next||pt===this||(pt?pt._next=this:ft=this,pt=this),this._call=e,this._time=i,Tt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tt())}};var qt=function(e,t,i){var n=new kt;return t=null==t?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,i),n},Kt=d("start","end","cancel","interrupt"),Bt=[],Ut=function(e,t,i,n,s,r){var o=e.__transition;if(o){if(i in o)return}else e.__transition={};!function(e,t,i){var n,s=e.__transition;function r(l){var c,h,u,d;if(1!==i.state)return a();for(c in s)if((d=s[c]).name===i.name){if(3===d.state)return qt(r);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete s[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete s[c])}if(qt((function(){3===i.state&&(i.state=4,i.timer.restart(o,i.delay,i.time),o(l))})),i.state=2,i.on.call("start",e,e.__data__,i.index,i.group),2===i.state){for(i.state=3,n=new Array(u=i.tween.length),c=0,h=-1;c<u;++c)(d=i.tween[c].value.call(e,e.__data__,i.index,i.group))&&(n[++h]=d);n.length=h+1}}function o(t){for(var s=t<i.duration?i.ease.call(null,t/i.duration):(i.timer.restart(a),i.state=5,1),r=-1,o=n.length;++r<o;)n[r].call(e,s);5===i.state&&(i.on.call("end",e,e.__data__,i.index,i.group),a())}function a(){for(var n in i.state=6,i.timer.stop(),delete s[t],s)return;delete e.__transition}s[t]=i,i.timer=Ft((function(e){i.state=1,i.timer.restart(r,i.delay,i.time),i.delay<=e&&r(e-i.delay)}),0,i.time)}(e,i,{name:t,index:n,group:s,on:Kt,tween:Bt,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})};function At(e,t){var i=Rt(e,t);if(i.state>0)throw new Error("too late; already scheduled");return i}function It(e,t){var i=Rt(e,t);if(i.state>3)throw new Error("too late; already running");return i}function Rt(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}var Et,Ht=function(e,t){var i,n,s,r=e.__transition,o=!0;if(r){for(s in t=null==t?null:t+"",r)(i=r[s]).name===t?(n=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(n?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[s]):o=!1;o&&delete e.__transition}},Nt=180/Math.PI,Pt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Vt=function(e,t,i,n,s,r){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*i+t*n)&&(i-=e*l,n-=t*l),(a=Math.sqrt(i*i+n*n))&&(i/=a,n/=a,l/=a),e*n<t*i&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:r,rotate:Math.atan2(t,e)*Nt,skewX:Math.atan(l)*Nt,scaleX:o,scaleY:a}};function $t(e,t,i,n){function s(e){return e.length?e.pop()+" ":""}return function(r,o){var a=[],l=[];return r=e(r),o=e(o),function(e,n,s,r,o,a){if(e!==s||n!==r){var l=o.push("translate(",null,t,null,i);a.push({i:l-4,x:ht(e,s)},{i:l-2,x:ht(n,r)})}else(s||r)&&o.push("translate("+s+t+r+i)}(r.translateX,r.translateY,o.translateX,o.translateY,a,l),function(e,t,i,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:i.push(s(i)+"rotate(",null,n)-2,x:ht(e,t)})):t&&i.push(s(i)+"rotate("+t+n)}(r.rotate,o.rotate,a,l),function(e,t,i,r){e!==t?r.push({i:i.push(s(i)+"skewX(",null,n)-2,x:ht(e,t)}):t&&i.push(s(i)+"skewX("+t+n)}(r.skewX,o.skewX,a,l),function(e,t,i,n,r,o){if(e!==i||t!==n){var a=r.push(s(r)+"scale(",null,",",null,")");o.push({i:a-4,x:ht(e,i)},{i:a-2,x:ht(t,n)})}else 1===i&&1===n||r.push(s(r)+"scale("+i+","+n+")")}(r.scaleX,r.scaleY,o.scaleX,o.scaleY,a,l),r=o=null,function(e){for(var t,i=-1,n=l.length;++i<n;)a[(t=l[i]).i]=t.x(e);return a.join("")}}}var Dt=$t((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Pt:Vt(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),zt=$t((function(e){return null==e?Pt:(Et||(Et=document.createElementNS("http://www.w3.org/2000/svg","g")),Et.setAttribute("transform",e),(e=Et.transform.baseVal.consolidate())?(e=e.matrix,Vt(e.a,e.b,e.c,e.d,e.e,e.f)):Pt)}),", ",")",")");function Wt(e,t){var i,n;return function(){var s=It(this,e),r=s.tween;if(r!==i)for(var o=0,a=(n=i=r).length;o<a;++o)if(n[o].name===t){(n=n.slice()).splice(o,1);break}s.tween=n}}function jt(e,t,i){var n,s;if("function"!=typeof i)throw new Error;return function(){var r=It(this,e),o=r.tween;if(o!==n){s=(n=o).slice();for(var a={name:t,value:i},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=a;break}l===c&&s.push(a)}r.tween=s}}function Xt(e,t,i){var n=e._id;return e.each((function(){var e=It(this,n);(e.value||(e.value={}))[t]=i.apply(this,arguments)})),function(e){return Rt(e,n).value[t]}}var Yt=function(e,t){var i;return("number"==typeof t?ht:t instanceof De?lt:(i=De(t))?(t=i,lt):mt)(e,t)};function Gt(e){return function(){this.removeAttribute(e)}}function Qt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zt(e,t,i){var n,s,r=i+"";return function(){var o=this.getAttribute(e);return o===r?null:o===n?s:s=t(n=o,i)}}function Jt(e,t,i){var n,s,r=i+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===n?s:s=t(n=o,i)}}function ei(e,t,i){var n,s,r;return function(){var o,a,l=i(this);if(null!=l)return(o=this.getAttribute(e))===(a=l+"")?null:o===n&&a===s?r:(s=a,r=t(n=o,l));this.removeAttribute(e)}}function ti(e,t,i){var n,s,r;return function(){var o,a,l=i(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:o===n&&a===s?r:(s=a,r=t(n=o,l));this.removeAttributeNS(e.space,e.local)}}function ii(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function ni(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function si(e,t){var i,n;function s(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&ni(e,s)),i}return s._value=t,s}function ri(e,t){var i,n;function s(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&ii(e,s)),i}return s._value=t,s}function oi(e,t){return function(){At(this,e).delay=+t.apply(this,arguments)}}function ai(e,t){return t=+t,function(){At(this,e).delay=t}}function li(e,t){return function(){It(this,e).duration=+t.apply(this,arguments)}}function ci(e,t){return t=+t,function(){It(this,e).duration=t}}function hi(e,t){if("function"!=typeof t)throw new Error;return function(){It(this,e).ease=t}}function ui(e,t,i){var n,s,r=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?At:It;return function(){var o=r(this,e),a=o.on;a!==n&&(s=(n=a).copy()).on(t,i),o.on=s}}var di=ke.prototype.constructor;function fi(e){return function(){this.style.removeProperty(e)}}function pi(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}function mi(e,t,i){var n,s;function r(){var r=t.apply(this,arguments);return r!==s&&(n=(s=r)&&pi(e,r,i)),n}return r._value=t,r}function gi(e){return function(t){this.textContent=e.call(this,t)}}function vi(e){var t,i;function n(){var n=e.apply(this,arguments);return n!==i&&(t=(i=n)&&gi(n)),t}return n._value=e,n}var yi=0;function wi(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function xi(){return++yi}var Oi=ke.prototype;wi.prototype=function(e){return ke().transition(e)}.prototype={constructor:wi,select:function(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=p(e));for(var n=this._groups,s=n.length,r=new Array(s),o=0;o<s;++o)for(var a,l,c=n[o],h=c.length,u=r[o]=new Array(h),d=0;d<h;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),u[d]=l,Ut(u[d],t,i,d,u,Rt(a,i)));return new wi(r,this._parents,t,i)},selectAll:function(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=v(e));for(var n=this._groups,s=n.length,r=[],o=[],a=0;a<s;++a)for(var l,c=n[a],h=c.length,u=0;u<h;++u)if(l=c[u]){for(var d,f=e.call(l,l.__data__,u,c),p=Rt(l,i),m=0,g=f.length;m<g;++m)(d=f[m])&&Ut(d,t,i,m,f,p);r.push(f),o.push(l)}return new wi(r,o,t,i)},filter:function(e){"function"!=typeof e&&(e=y(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var r,o=t[s],a=o.length,l=n[s]=[],c=0;c<a;++c)(r=o[c])&&e.call(r,r.__data__,c,o)&&l.push(r);return new wi(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,s=i.length,r=Math.min(n,s),o=new Array(n),a=0;a<r;++a)for(var l,c=t[a],h=i[a],u=c.length,d=o[a]=new Array(u),f=0;f<u;++f)(l=c[f]||h[f])&&(d[f]=l);for(;a<n;++a)o[a]=t[a];return new wi(o,this._parents,this._name,this._id)},selection:function(){return new di(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,i=xi(),n=this._groups,s=n.length,r=0;r<s;++r)for(var o,a=n[r],l=a.length,c=0;c<l;++c)if(o=a[c]){var h=Rt(o,t);Ut(o,e,i,c,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new wi(n,this._parents,e,i)},call:Oi.call,nodes:Oi.nodes,node:Oi.node,size:Oi.size,empty:Oi.empty,each:Oi.each,on:function(e,t){var i=this._id;return arguments.length<2?Rt(this.node(),i).on.on(e):this.each(ui(i,e,t))},attr:function(e,t){var i=B(e),n="transform"===i?zt:Yt;return this.attrTween(e,"function"==typeof t?(i.local?ti:ei)(i,n,Xt(this,"attr."+e,t)):null==t?(i.local?Qt:Gt)(i):(i.local?Jt:Zt)(i,n,t))},attrTween:function(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;var n=B(e);return this.tween(i,(n.local?si:ri)(n,t))},style:function(e,t,i){var n="transform"==(e+="")?Dt:Yt;return null==t?this.styleTween(e,function(e,t){var i,n,s;return function(){var r=D(this,e),o=(this.style.removeProperty(e),D(this,e));return r===o?null:r===i&&o===n?s:s=t(i=r,n=o)}}(e,n)).on("end.style."+e,fi(e)):"function"==typeof t?this.styleTween(e,function(e,t,i){var n,s,r;return function(){var o=D(this,e),a=i(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=D(this,e)),o===l?null:o===n&&l===s?r:(s=l,r=t(n=o,a))}}(e,n,Xt(this,"style."+e,t))).each(function(e,t){var i,n,s,r,o="style."+t,a="end."+o;return function(){var l=It(this,e),c=l.on,h=null==l.value[o]?r||(r=fi(t)):void 0;c===i&&s===h||(n=(i=c).copy()).on(a,s=h),l.on=n}}(this._id,e)):this.styleTween(e,function(e,t,i){var n,s,r=i+"";return function(){var o=D(this,e);return o===r?null:o===n?s:s=t(n=o,i)}}(e,n,t),i).on("end.style."+e,null)},styleTween:function(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,mi(e,t,null==i?"":i))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Xt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,vi(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n,s=Rt(this.node(),i).tween,r=0,o=s.length;r<o;++r)if((n=s[r]).name===e)return n.value;return null}return this.each((null==t?Wt:jt)(i,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?oi:ai)(t,e)):Rt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?li:ci)(t,e)):Rt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(hi(t,e)):Rt(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var i=t.apply(this,arguments);if("function"!=typeof i)throw new Error;It(this,e).ease=i}}(this._id,e))},end:function(){var e,t,i=this,n=i._id,s=i.size();return new Promise((function(r,o){var a={value:o},l={value:function(){0==--s&&r()}};i.each((function(){var i=It(this,n),s=i.on;s!==e&&((t=(e=s).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),i.on=t})),0===s&&r()}))},[Symbol.iterator]:Oi[Symbol.iterator]};var bi={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ci(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}ke.prototype.interrupt=function(e){return this.each((function(){Ht(this,e)}))},ke.prototype.transition=function(e){var t,i;e instanceof wi?(t=e._id,e=e._name):(t=xi(),(i=bi).time=_t(),e=null==e?null:e+"");for(var n=this._groups,s=n.length,r=0;r<s;++r)for(var o,a=n[r],l=a.length,c=0;c<l;++c)(o=a[c])&&Ut(o,e,t,c,a,i||Ci(o,t));return new wi(n,this._parents,e,t)};const{abs:_i,max:Si,min:ki}=Math;function Fi(e){return[+e[0],+e[1]]}function Li(e){return[Fi(e[0]),Fi(e[1])]}["w","e"].map(Mi),["n","s"].map(Mi),["n","w","e","s","nw","ne","sw","se"].map(Mi);function Mi(e){return{type:e}}function Ti(e){var t=0,i=e.children,n=i&&i.length;if(n)for(;--n>=0;)t+=i[n].value;else t=1;e.value=t}function qi(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Bi)):void 0===t&&(t=Ki);for(var i,n,s,r,o,a=new Ii(e),l=[a];i=l.pop();)if((s=t(i.data))&&(o=(s=Array.from(s)).length))for(i.children=s,r=o-1;r>=0;--r)l.push(n=s[r]=new Ii(s[r])),n.parent=i,n.depth=i.depth+1;return a.eachBefore(Ai)}function Ki(e){return e.children}function Bi(e){return Array.isArray(e)?e[1]:null}function Ui(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Ai(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Ii(e){this.data=e,this.depth=this.height=0,this.parent=null}Ii.prototype=qi.prototype={constructor:Ii,count:function(){return this.eachAfter(Ti)},each:function(e,t){let i=-1;for(const n of this)e.call(t,n,++i,this);return this},eachAfter:function(e,t){for(var i,n,s,r=this,o=[r],a=[],l=-1;r=o.pop();)if(a.push(r),i=r.children)for(n=0,s=i.length;n<s;++n)o.push(i[n]);for(;r=a.pop();)e.call(t,r,++l,this);return this},eachBefore:function(e,t){for(var i,n,s=this,r=[s],o=-1;s=r.pop();)if(e.call(t,s,++o,this),i=s.children)for(n=i.length-1;n>=0;--n)r.push(i[n]);return this},find:function(e,t){let i=-1;for(const n of this)if(e.call(t,n,++i,this))return n},sum:function(e){return this.eachAfter((function(t){for(var i=+e(t.data)||0,n=t.children,s=n&&n.length;--s>=0;)i+=n[s].value;t.value=i}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,i=function(e,t){if(e===t)return e;var i=e.ancestors(),n=t.ancestors(),s=null;e=i.pop(),t=n.pop();for(;e===t;)s=e,e=i.pop(),t=n.pop();return s}(t,e),n=[t];t!==i;)t=t.parent,n.push(t);for(var s=n.length;e!==i;)n.splice(s,0,e),e=e.parent;return n},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(i){i!==e&&t.push({source:i.parent,target:i})})),t},copy:function(){return qi(this).eachBefore(Ui)},[Symbol.iterator]:function*(){var e,t,i,n,s=this,r=[s];do{for(e=r.reverse(),r=[];s=e.pop();)if(yield s,t=s.children)for(i=0,n=t.length;i<n;++i)r.push(t[i])}while(r.length)}};var Ri=function(e){for(var t,i,n=0,s=(e=function(e){for(var t,i,n=e.length;n;)i=Math.random()*n--|0,t=e[n],e[n]=e[i],e[i]=t;return e}(Array.from(e))).length,r=[];n<s;)t=e[n],i&&Ni(i,t)?++n:(i=Vi(r=Ei(r,t)),n=0);return i};function Ei(e,t){var i,n;if(Pi(t,e))return[t];for(i=0;i<e.length;++i)if(Hi(t,e[i])&&Pi($i(e[i],t),e))return[e[i],t];for(i=0;i<e.length-1;++i)for(n=i+1;n<e.length;++n)if(Hi($i(e[i],e[n]),t)&&Hi($i(e[i],t),e[n])&&Hi($i(e[n],t),e[i])&&Pi(Di(e[i],e[n],t),e))return[e[i],e[n],t];throw new Error}function Hi(e,t){var i=e.r-t.r,n=t.x-e.x,s=t.y-e.y;return i<0||i*i<n*n+s*s}function Ni(e,t){var i=e.r-t.r+1e-9*Math.max(e.r,t.r,1),n=t.x-e.x,s=t.y-e.y;return i>0&&i*i>n*n+s*s}function Pi(e,t){for(var i=0;i<t.length;++i)if(!Ni(e,t[i]))return!1;return!0}function Vi(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return $i(e[0],e[1]);case 3:return Di(e[0],e[1],e[2])}var t}function $i(e,t){var i=e.x,n=e.y,s=e.r,r=t.x,o=t.y,a=t.r,l=r-i,c=o-n,h=a-s,u=Math.sqrt(l*l+c*c);return{x:(i+r+l/u*h)/2,y:(n+o+c/u*h)/2,r:(u+s+a)/2}}function Di(e,t,i){var n=e.x,s=e.y,r=e.r,o=t.x,a=t.y,l=t.r,c=i.x,h=i.y,u=i.r,d=n-o,f=n-c,p=s-a,m=s-h,g=l-r,v=u-r,y=n*n+s*s-r*r,w=y-o*o-a*a+l*l,x=y-c*c-h*h+u*u,O=f*p-d*m,b=(p*x-m*w)/(2*O)-n,C=(m*g-p*v)/O,_=(f*w-d*x)/(2*O)-s,S=(d*v-f*g)/O,k=C*C+S*S-1,F=2*(r+b*C+_*S),L=b*b+_*_-r*r,M=-(k?(F+Math.sqrt(F*F-4*k*L))/(2*k):L/F);return{x:n+b+C*M,y:s+_+S*M,r:M}}function zi(e,t,i){var n,s,r,o,a=e.x-t.x,l=e.y-t.y,c=a*a+l*l;c?(s=t.r+i.r,s*=s,o=e.r+i.r,s>(o*=o)?(n=(c+o-s)/(2*c),r=Math.sqrt(Math.max(0,o/c-n*n)),i.x=e.x-n*a-r*l,i.y=e.y-n*l+r*a):(n=(c+s-o)/(2*c),r=Math.sqrt(Math.max(0,s/c-n*n)),i.x=t.x+n*a-r*l,i.y=t.y+n*l+r*a)):(i.x=t.x+i.r,i.y=t.y)}function Wi(e,t){var i=e.r+t.r-1e-6,n=t.x-e.x,s=t.y-e.y;return i>0&&i*i>n*n+s*s}function ji(e){var t=e._,i=e.next._,n=t.r+i.r,s=(t.x*i.r+i.x*t.r)/n,r=(t.y*i.r+i.y*t.r)/n;return s*s+r*r}function Xi(e){this._=e,this.next=null,this.previous=null}function Yi(e){if(!(r=(t=e,e="object"==typeof t&&"length"in t?t:Array.from(t)).length))return 0;var t,i,n,s,r,o,a,l,c,h,u,d;if((i=e[0]).x=0,i.y=0,!(r>1))return i.r;if(n=e[1],i.x=-n.r,n.x=i.r,n.y=0,!(r>2))return i.r+n.r;zi(n,i,s=e[2]),i=new Xi(i),n=new Xi(n),s=new Xi(s),i.next=s.previous=n,n.next=i.previous=s,s.next=n.previous=i;e:for(l=3;l<r;++l){zi(i._,n._,s=e[l]),s=new Xi(s),c=n.next,h=i.previous,u=n._.r,d=i._.r;do{if(u<=d){if(Wi(c._,s._)){n=c,i.next=n,n.previous=i,--l;continue e}u+=c._.r,c=c.next}else{if(Wi(h._,s._)){(i=h).next=n,n.previous=i,--l;continue e}d+=h._.r,h=h.previous}}while(c!==h.next);for(s.previous=i,s.next=n,i.next=n.previous=n=s,o=ji(i);(s=s.next)!==n;)(a=ji(s))<o&&(i=s,o=a);n=i.next}for(i=[n._],s=n;(s=s.next)!==n;)i.push(s._);for(s=Ri(i),l=0;l<r;++l)(i=e[l]).x-=s.x,i.y-=s.y;return s.r}function Gi(e){return null==e?null:function(e){if("function"!=typeof e)throw new Error;return e}(e)}function Qi(){return 0}var Zi=function(e){return function(){return e}};function Ji(e){return Math.sqrt(e.value)}function en(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function tn(e,t){return function(i){if(n=i.children){var n,s,r,o=n.length,a=e(i)*t||0;if(a)for(s=0;s<o;++s)n[s].r+=a;if(r=Yi(n),a)for(s=0;s<o;++s)n[s].r-=a;i.r=r+a}}}function nn(e){return function(t){var i=t.parent;t.r*=e,i&&(t.x=i.x+e*t.x,t.y=i.y+e*t.y)}}var sn=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},rn=function(){var e=1,t=1,i=0,n=!1;function s(s){var r=s.height+1;return s.x0=s.y0=i,s.x1=e,s.y1=t/r,s.eachBefore(function(e,t){return function(n){n.children&&function(e,t,i,n,s){for(var r,o=e.children,a=-1,l=o.length,c=e.value&&(n-t)/e.value;++a<l;)(r=o[a]).y0=i,r.y1=s,r.x0=t,r.x1=t+=r.value*c}(n,n.x0,e*(n.depth+1)/t,n.x1,e*(n.depth+2)/t);var s=n.x0,r=n.y0,o=n.x1-i,a=n.y1-i;o<s&&(s=o=(s+o)/2),a<r&&(r=a=(r+a)/2),n.x0=s,n.y0=r,n.x1=o,n.y1=a}}(t,r)),n&&s.eachBefore(sn),s}return s.round=function(e){return arguments.length?(n=!!e,s):n},s.size=function(i){return arguments.length?(e=+i[0],t=+i[1],s):[e,t]},s.padding=function(e){return arguments.length?(i=+e,s):i},s},on=function(e){return"string"==typeof e?new _e([document.querySelectorAll(e)],[document.documentElement]):new _e([null==e?[]:m(e)],Ce)};const an=Math.PI,ln=2*an,cn=ln-1e-6;function hn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function un(){return new hn}hn.prototype=un.prototype={constructor:hn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,i,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+n)},bezierCurveTo:function(e,t,i,n,s,r){this._+="C"+ +e+","+ +t+","+ +i+","+ +n+","+(this._x1=+s)+","+(this._y1=+r)},arcTo:function(e,t,i,n,s){e=+e,t=+t,i=+i,n=+n,s=+s;var r=this._x1,o=this._y1,a=i-e,l=n-t,c=r-e,h=o-t,u=c*c+h*h;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(u>1e-6)if(Math.abs(h*a-l*c)>1e-6&&s){var d=i-r,f=n-o,p=a*a+l*l,m=d*d+f*f,g=Math.sqrt(p),v=Math.sqrt(u),y=s*Math.tan((an-Math.acos((p+u-m)/(2*g*v)))/2),w=y/v,x=y/g;Math.abs(w-1)>1e-6&&(this._+="L"+(e+w*c)+","+(t+w*h)),this._+="A"+s+","+s+",0,0,"+ +(h*d>c*f)+","+(this._x1=e+x*a)+","+(this._y1=t+x*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,i,n,s,r){e=+e,t=+t,r=!!r;var o=(i=+i)*Math.cos(n),a=i*Math.sin(n),l=e+o,c=t+a,h=1^r,u=r?n-s:s-n;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),i&&(u<0&&(u=u%ln+ln),u>cn?this._+="A"+i+","+i+",0,1,"+h+","+(e-o)+","+(t-a)+"A"+i+","+i+",0,1,"+h+","+(this._x1=l)+","+(this._y1=c):u>1e-6&&(this._+="A"+i+","+i+",0,"+ +(u>=an)+","+h+","+(this._x1=e+i*Math.cos(s))+","+(this._y1=t+i*Math.sin(s))))},rect:function(e,t,i,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +i+"v"+ +n+"h"+-i+"Z"},toString:function(){return this._}};var dn=un,fn=function(e){return function(){return e}},pn=Math.abs,mn=Math.atan2,gn=Math.cos,vn=Math.max,yn=Math.min,wn=Math.sin,xn=Math.sqrt,On=Math.PI,bn=On/2,Cn=2*On;function _n(e){return e>1?0:e<-1?On:Math.acos(e)}function Sn(e){return e>=1?bn:e<=-1?-bn:Math.asin(e)}function kn(e){return e.innerRadius}function Fn(e){return e.outerRadius}function Ln(e){return e.startAngle}function Mn(e){return e.endAngle}function Tn(e){return e&&e.padAngle}function qn(e,t,i,n,s,r,o,a){var l=i-e,c=n-t,h=o-s,u=a-r,d=u*l-h*c;if(!(d*d<1e-12))return[e+(d=(h*(t-r)-u*(e-s))/d)*l,t+d*c]}function Kn(e,t,i,n,s,r,o){var a=e-i,l=t-n,c=(o?r:-r)/xn(a*a+l*l),h=c*l,u=-c*a,d=e+h,f=t+u,p=i+h,m=n+u,g=(d+p)/2,v=(f+m)/2,y=p-d,w=m-f,x=y*y+w*w,O=s-r,b=d*m-p*f,C=(w<0?-1:1)*xn(vn(0,O*O*x-b*b)),_=(b*w-y*C)/x,S=(-b*y-w*C)/x,k=(b*w+y*C)/x,F=(-b*y+w*C)/x,L=_-g,M=S-v,T=k-g,q=F-v;return L*L+M*M>T*T+q*q&&(_=k,S=F),{cx:_,cy:S,x01:-h,y01:-u,x11:_*(s/O-1),y11:S*(s/O-1)}}function Bn(e){return((e=Math.exp(e))+1/e)/2}(function e(t,i,n){function s(e,s){var r,o,a=e[0],l=e[1],c=e[2],h=s[0],u=s[1],d=s[2],f=h-a,p=u-l,m=f*f+p*p;if(m<1e-12)o=Math.log(d/c)/t,r=function(e){return[a+e*f,l+e*p,c*Math.exp(t*e*o)]};else{var g=Math.sqrt(m),v=(d*d-c*c+n*m)/(2*c*i*g),y=(d*d-c*c-n*m)/(2*d*i*g),w=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(y*y+1)-y);o=(x-w)/t,r=function(e){var n,s=e*o,r=Bn(w),h=c/(i*g)*(r*(n=t*s+w,((n=Math.exp(2*n))-1)/(n+1))-function(e){return((e=Math.exp(e))-1/e)/2}(w));return[a+h*f,l+h*p,c*r/Bn(t*s+w)]}}return r.duration=1e3*o*t/Math.SQRT2,r}return s.rho=function(t){var i=Math.max(.001,+t),n=i*i;return e(i,n,n*n)},s})(Math.SQRT2,2,4);function Un(e,t,i){this.k=e,this.x=t,this.y=i}Un.prototype={constructor:Un,scale:function(e){return 1===e?this:new Un(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Un(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Un(1,0,0);Un.prototype;class An{}An.CORE=r,An.TreePack=class{constructor(e,t,i={}){this.onMouseOver=()=>{},this.onMouseOut=()=>{},this.colors=[{to:.25,color:"#cf000f"},{to:.5,color:"#f57f17"},{to:.75,color:"#ffee58"},{color:"#4caf50"}],this.noValueColor="#808080",this.fontColor="rgba(255, 255, 255, .85)",this.backgroundColor="#343a40",this.useHash=!0,this.hashTreshold=.1,this.useLegend=!0,this.formatMastery="percentage",this.formatCover="percentage",this.formatTrust="percentage",this.framework=null,this.hierarchy=null,this.elem=null,this.svg=null,this.svgId=null,this.infos=null,this.viewBoxWidth=700,this.viewBoxHeight=700,this.language="fr",this.i18n={fr:{information:{mastery:{name:"Taux de maîtrise",description:"Estime ton niveau de maîtrise pour chaque compétence, calculé en fonction des travaux effectués en lien avec cette compétence."},trust:{name:"Taux de confiance",description:"Indique la confiance dans le calcul du taux de maîtrise. Cet indice dépend du nombre et de la nature des travaux effectués."},cover:{name:"Taux de couverture",description:"Indique le pourcentage des sous-compétences travaillées."}},legend:{noMastery:"Maîtrise non évaluée",masteryBetween:"taux de maîtrise ∈ ",trustTreshold:"taux de confiance < "}}},this.elem=e,this.framework=s.copy(t),this.elem.style.position="relative",this.viewBoxWidth=e.offsetWidth,this.viewBoxHeight=e.offsetHeight,void 0!==i.useHash&&(this.useHash=i.useHash),void 0!==i.hashTreshold&&(this.hashTreshold=i.hashTreshold),void 0!==i.useLegend&&(this.useLegend=i.useLegend),void 0!==i.colors&&(this.colors=i.colors),void 0!==i.noValueColor&&(this.noValueColor=i.noValueColor),void 0!==i.formatMastery&&(this.formatMastery=i.formatMastery),void 0!==i.formatCover&&(this.formatCover=i.formatCover),void 0!==i.formatTrust&&(this.formatTrust=i.formatTrust),void 0!==i.fontColor&&(this.fontColor=i.fontColor),void 0!==i.backgroundColor&&(this.backgroundColor=i.backgroundColor),this.hierarchy=this._buildHierarchy();let n=()=>{this.elem.innerHTML="",this.viewBoxWidth=e.offsetWidth,this.viewBoxHeight=e.offsetHeight,this.draw()};n.bind(this),window.addEventListener("resize",n)}draw(e=n.makeId()){this.svgId=e,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.id=this.svgId;let t=this.viewBoxWidth.toString(),i=this.viewBoxHeight.toString();this.svg.setAttribute("viewBox","0 0 "+t+" "+i),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.setAttribute("width","100%"),this.svg.setAttribute("height","100%"),this.svg.style.cssText+="width: 100% !important; height: 100% !important;";let s=document.createElementNS("http://www.w3.org/2000/svg","g");this.svg.appendChild(s),this.elem.appendChild(this.svg),this._drawInfos(),this.useHash&&this._drawHash(),this._drawPacks(),this.useLegend&&this._drawLegend()}_drawInfos(){this.infos=document.createElement("div"),this.infos.innerHTML='<svg width="20px" height="20px" viewBox="0 0 16 16"  fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n                                    <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>\n                                </svg>',this.infos.setAttribute("style","position: absolute; top: 0; left : 0; cursor: help; color:"+this.fontColor);let e=document.createElement("div");e.innerHTML=`<h4> Informations </h4>\n                                <hr style="background-color:${this.fontColor} "/>\n                                <p><b>${this.i18n[this.language].information.mastery.name}</b>:<br/>${this.i18n[this.language].information.mastery.description}</p>\n                                <p><b>${this.i18n[this.language].information.trust.name}</b>:<br/>${this.i18n[this.language].information.trust.description}</p>\n                                <p><b>${this.i18n[this.language].information.cover.name}</b>:<br/>${this.i18n[this.language].information.cover.description}</p>`;let t=`border-radius:    15px; \n                                        opacity:          .95; \n                                        position:         absolute; \n                                        padding:          30px; \n                                        top:              0; \n                                        left:             0; \n                                        color:            ${this.fontColor};\n                                        background-color: ${this.backgroundColor}; \n                                        width:            ${this.viewBoxWidth.toString()}px; \n                                        height:           ${this.viewBoxHeight.toString()}px; \n                                        display:          none`;e.setAttribute("style",t),this.elem.appendChild(e),this.elem.appendChild(this.infos),this.infos.addEventListener("mouseenter",()=>{e.style.display="block"}),this.infos.addEventListener("mouseleave",()=>{e.style.display="none"})}_drawHash(){Fe(this.svg).append("defs").append("pattern").attr("id","diagonalHatch").attr("patternUnits","userSpaceOnUse").attr("width",4).attr("height",4).append("circle").attr("cx",2).attr("cy",2).attr("r",1).attr("stroke-width",0).attr("fill","#404040")}_drawPacks(){let e=function(){var e=null,t=1,i=1,n=Qi;function s(s){return s.x=t/2,s.y=i/2,e?s.eachBefore(en(e)).eachAfter(tn(n,.5)).eachBefore(nn(1)):s.eachBefore(en(Ji)).eachAfter(tn(Qi,1)).eachAfter(tn(n,s.r/Math.min(t,i))).eachBefore(nn(Math.min(t,i)/(2*s.r))),s}return s.radius=function(t){return arguments.length?(e=Gi(t),s):e},s.size=function(e){return arguments.length?(t=+e[0],i=+e[1],s):[t,i]},s.padding=function(e){return arguments.length?(n="function"==typeof e?e:Zi(+e),s):n},s}(),t=this.useLegend?(this.viewBoxWidth-this.viewBoxHeight)/2-10:0;e.size([this.viewBoxWidth,this.viewBoxHeight]),e.padding(10);let i=qi(this.hierarchy);i.sum(e=>e.value),e(i);let n=Fe(this.svg).selectAll("g").data(i.descendants()).enter().append("g").attr("class","node").style("cursor","pointer").attr("transform",e=>"translate("+[e.x-t,e.y]+")").on("mouseover",this._handleMouseOver.bind(this)).on("mouseout",this._handleMouseOut.bind(this));n.append("circle").classed("the-node",!0).attr("id",e=>"olm-pack-"+e.data.src.id).attr("class","olm-tree-pack-event-targetable the-node").attr("r",e=>e.r).style("fill",e=>e.data.color).style("stroke","#2f2f2f"),n.filter(e=>e.data.hash).append("circle").classed("the-node",!0).attr("r",e=>e.r).attr("fill","url(#diagonalHatch)")}_drawLegend(){let e=Fe(this.svg),t=this.viewBoxHeight+10,i=this.viewBoxHeight-130,n=(n,s)=>{e.append("rect").attr("x",t).attr("y",i).attr("width",16).attr("height",16).style("fill",n),e.append("text").attr("x",t+16+10).attr("y",i+16).style("fill",this.fontColor).text(s).attr("text-anchor","left").style("alignment-baseline","baseline")};n(this.noValueColor,this.i18n[this.language].legend.noMastery),i+=26;for(let e=0;e<this.colors.length;e++){let t=this.i18n[this.language].legend.masteryBetween;t+=0===e?"["+this._formatValue("mastery",0):"]"+this._formatValue("mastery",this.colors[e-1].to),e===this.colors.length-1?t+=`,${this._formatValue("mastery",1)}]`:t+=`,${this._formatValue("mastery",this.colors[e].to)}]`,n(this.colors[e].color,t),i+=26}this.useHash&&(n("rgba(255, 255, 2555, .8)",this.i18n[this.language].legend.trustTreshold+this._formatValue("trust",this.hashTreshold)),e.append("rect").attr("x",t).attr("y",i).attr("width",16).attr("height",16).style("fill","url(#diagonalHatch)"))}_drawDetails(e){let t=16,i=Fe(this.svg);i.append("text").attr("x",this.viewBoxHeight+10).attr("y",t).style("fill",this.fontColor).text(e.data.src.data.name).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline").style("font-weight","bold"),t+=26,i.append("text").attr("x",this.viewBoxHeight+10).attr("y",t).style("fill",this.fontColor).text("Taux de maîtrise : "+this._formatValue("mastery",e.data.src.data.mastery)).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline"),t+=26,i.append("text").attr("x",this.viewBoxHeight+10).attr("y",t).style("fill",this.fontColor).text("Taux de confiance : "+this._formatValue("trust",e.data.src.data.trust)).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline"),t+=26,i.append("text").attr("x",this.viewBoxHeight+10).attr("y",t).style("fill",this.fontColor).text("Taux de couverture : "+this._formatValue("cover",e.data.src.data.cover)).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline")}getSVGId(){return this.svgId}_buildHierarchy(){return function e(t){let i=null,n=this.noValueColor;if(void 0===t.data.mastery)n=this.noValueColor;else if(0!==t.children.length&&t.data.cover>0||t.data.trust>0){let e=0;for(n=this.colors[e].color;e<this.colors.length-1&&t.data.mastery>this.colors[e].to;)e++,n=this.colors[e].color}i=t.children.length>0?{name:t.data.name,children:[],color:n,hash:this.useHash&&t.data.trust<this.hashTreshold,src:t}:{name:t.data.name,color:n,value:1,hash:this.useHash&&t.data.trust<this.hashTreshold,src:t};for(var s=0,r=t.children.length;s<r;s++){let n=this.framework.getNode(t.children[s]);i.children.push(e.bind(this,n)())}return i}.bind(this,this.framework.getRoot())()}_handleMouseOver(e,t){let i="olm-pack-"+t.data.src.id;Fe(document.getElementById(i)).transition().duration(200).style("fill","rgba(211,211,211,0.8)"),this._drawDetails(t),this.onMouseOver(t.data.src)}_handleMouseOut(e,t){let i="olm-pack-"+t.data.src.id;Fe(document.getElementById(i)).transition().duration(200).style("fill",t.data.color),on(".olm-treepack-label").remove(),this.onMouseOut(t.data.src)}_formatValue(e,t){if(isNaN(t)||null==t)return"-";switch(e){case"mastery":switch(this.formatMastery){case"1decimal":return(Math.round(10*t)/10).toString();case"2decimal":return(Math.round(100*t)/100).toString();case"percentage":return Math.round(100*t).toString()+"%"}break;case"cover":switch(this.formatCover){case"percentage":return Math.round(100*t).toString()+"%"}break;case"trust":switch(this.formatTrust){case"percentage":return Math.round(100*t).toString()+"%"}}return"a"}},An.TreeSunburst=class{constructor(e,t,i={}){this.onMouseOver=()=>{},this.onMouseOut=()=>{},this.colors=[{to:.25,color:"#cf000f"},{to:.5,color:"#f57f17"},{to:.75,color:"#ffee58"},{color:"#4caf50"}],this.noValueColor="#808080",this.fontColor="rgba(255, 255, 255, .85)",this.backgroundColor="#343a40",this.useHash=!0,this.hashTreshold=0,this.useLegend=!0,this.formatMastery="percentage",this.formatCover="percentage",this.formatTrust="percentage",this.framework=null,this.hierarchy=null,this.elem=null,this.svg=null,this.svgG=null,this.svgId=null,this.infos=null,this.viewBoxWidth=700,this.viewBoxHeight=700,this.language="fr",this.i18n={fr:{information:{mastery:{name:"Taux de maîtrise",description:"Estime ton niveau de maîtrise pour chaque compétence, calculé en fonction des travaux effectués en lien avec cette compétence."},trust:{name:"Taux de confiance",description:"Indique la confiance dans le calcul du taux de maîtrise. Cet indice dépend du nombre et de la nature des travaux effectués."},cover:{name:"Taux de couverture",description:"Indique le pourcentage des sous-compétences travaillées."}},legend:{noMastery:"Maîtrise non évaluée",masteryBetween:"taux de maîtrise ∈ ",trustTreshold:"taux de confiance < "}}},this.elem=e,this.framework=s.copy(t),this.elem.style.position="relative",this.viewBoxWidth=e.offsetWidth,this.viewBoxHeight=e.offsetHeight,void 0!==i.useHash&&(this.useHash=i.useHash),void 0!==i.hashTreshold&&(this.hashTreshold=i.hashTreshold),void 0!==i.useLegend&&(this.useLegend=i.useLegend),void 0!==i.colors&&(this.colors=i.colors),void 0!==i.noValueColor&&(this.noValueColor=i.noValueColor),void 0!==i.formatMastery&&(this.formatMastery=i.formatMastery),void 0!==i.formatCover&&(this.formatCover=i.formatCover),void 0!==i.formatTrust&&(this.formatTrust=i.formatTrust),void 0!==i.fontColor&&(this.fontColor=i.fontColor),void 0!==i.backgroundColor&&(this.backgroundColor=i.backgroundColor),this.hierarchy=this._buildHierarchy();let n=()=>{this.elem.innerHTML="",this.viewBoxWidth=e.offsetWidth,this.viewBoxHeight=e.offsetHeight,this.draw()};n.bind(this),window.addEventListener("resize",n)}draw(e=n.makeId()){this.svgId=e,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.id=this.svgId;let t=this.viewBoxWidth.toString(),i=this.viewBoxHeight.toString(),s=(this.viewBoxHeight/2).toString(),r=(this.viewBoxHeight/2).toString();this.svg.setAttribute("viewBox","0 0 "+t+" "+i),this.svg.setAttribute("width","100%"),this.svg.setAttribute("height","100%"),this.svg.style.cssText+="width: 100% !important; height: 100% !important;",this.svgG=document.createElementNS("http://www.w3.org/2000/svg","g"),this.svgG.setAttribute("transform","translate("+s+","+r+")"),this.svg.appendChild(this.svgG),this.elem.appendChild(this.svg),this._drawInfos(),this.useHash&&this._drawHash(),this._drawPacks(),this.useLegend&&this._drawLegend()}_drawInfos(){this.infos=document.createElement("div"),this.infos.innerHTML='<svg width="20px" height="20px" viewBox="0 0 16 16"  fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n                                    <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>\n                                </svg>',this.infos.setAttribute("style","position: absolute; top: 0; left : 0; cursor: help; color:"+this.fontColor);let e=document.createElement("div");e.innerHTML=`<h4> Informations </h4>\n                                <hr style="background-color:${this.fontColor} "/>\n                                <p><b>${this.i18n[this.language].information.mastery.name}</b>:<br/>${this.i18n[this.language].information.mastery.description}</p>\n                                <p><b>${this.i18n[this.language].information.trust.name}</b>:<br/>${this.i18n[this.language].information.trust.description}</p>\n                                <p><b>${this.i18n[this.language].information.cover.name}</b>:<br/>${this.i18n[this.language].information.cover.description}</p>`;let t=`border-radius:    15px; \n                                        opacity:          .95; \n                                        position:         absolute; \n                                        padding:          30px; \n                                        top:              0; \n                                        left:             0; \n                                        color:            ${this.fontColor};\n                                        background-color: ${this.backgroundColor}; \n                                        width:            ${this.viewBoxWidth.toString()}px; \n                                        height:           ${this.viewBoxHeight.toString()}px; \n                                        display:          none`;e.setAttribute("style",t),this.elem.appendChild(e),this.elem.appendChild(this.infos),this.infos.addEventListener("mouseenter",()=>{e.style.display="block"}),this.infos.addEventListener("mouseleave",()=>{e.style.display="none"})}_drawHash(){Fe(this.svg).append("defs").append("pattern").attr("id","diagonalHatch").attr("patternUnits","userSpaceOnUse").attr("width",4).attr("height",4).append("circle").attr("cx",2).attr("cy",2).attr("r",1).attr("stroke-width",0).attr("fill","#404040")}_drawPacks(){var e=rn();let t=this.viewBoxHeight/2;e.size([2*Math.PI,t]);let i=function(){var e=kn,t=Fn,i=fn(0),n=null,s=Ln,r=Mn,o=Tn,a=null;function l(){var l,c,h=+e.apply(this,arguments),u=+t.apply(this,arguments),d=s.apply(this,arguments)-bn,f=r.apply(this,arguments)-bn,p=pn(f-d),m=f>d;if(a||(a=l=dn()),u<h&&(c=u,u=h,h=c),u>1e-12)if(p>Cn-1e-12)a.moveTo(u*gn(d),u*wn(d)),a.arc(0,0,u,d,f,!m),h>1e-12&&(a.moveTo(h*gn(f),h*wn(f)),a.arc(0,0,h,f,d,m));else{var g,v,y=d,w=f,x=d,O=f,b=p,C=p,_=o.apply(this,arguments)/2,S=_>1e-12&&(n?+n.apply(this,arguments):xn(h*h+u*u)),k=yn(pn(u-h)/2,+i.apply(this,arguments)),F=k,L=k;if(S>1e-12){var M=Sn(S/h*wn(_)),T=Sn(S/u*wn(_));(b-=2*M)>1e-12?(x+=M*=m?1:-1,O-=M):(b=0,x=O=(d+f)/2),(C-=2*T)>1e-12?(y+=T*=m?1:-1,w-=T):(C=0,y=w=(d+f)/2)}var q=u*gn(y),K=u*wn(y),B=h*gn(O),U=h*wn(O);if(k>1e-12){var A,I=u*gn(w),R=u*wn(w),E=h*gn(x),H=h*wn(x);if(p<On&&(A=qn(q,K,E,H,I,R,B,U))){var N=q-A[0],P=K-A[1],V=I-A[0],$=R-A[1],D=1/wn(_n((N*V+P*$)/(xn(N*N+P*P)*xn(V*V+$*$)))/2),z=xn(A[0]*A[0]+A[1]*A[1]);F=yn(k,(h-z)/(D-1)),L=yn(k,(u-z)/(D+1))}}C>1e-12?L>1e-12?(g=Kn(E,H,q,K,u,L,m),v=Kn(I,R,B,U,u,L,m),a.moveTo(g.cx+g.x01,g.cy+g.y01),L<k?a.arc(g.cx,g.cy,L,mn(g.y01,g.x01),mn(v.y01,v.x01),!m):(a.arc(g.cx,g.cy,L,mn(g.y01,g.x01),mn(g.y11,g.x11),!m),a.arc(0,0,u,mn(g.cy+g.y11,g.cx+g.x11),mn(v.cy+v.y11,v.cx+v.x11),!m),a.arc(v.cx,v.cy,L,mn(v.y11,v.x11),mn(v.y01,v.x01),!m))):(a.moveTo(q,K),a.arc(0,0,u,y,w,!m)):a.moveTo(q,K),h>1e-12&&b>1e-12?F>1e-12?(g=Kn(B,U,I,R,h,-F,m),v=Kn(q,K,E,H,h,-F,m),a.lineTo(g.cx+g.x01,g.cy+g.y01),F<k?a.arc(g.cx,g.cy,F,mn(g.y01,g.x01),mn(v.y01,v.x01),!m):(a.arc(g.cx,g.cy,F,mn(g.y01,g.x01),mn(g.y11,g.x11),!m),a.arc(0,0,h,mn(g.cy+g.y11,g.cx+g.x11),mn(v.cy+v.y11,v.cx+v.x11),m),a.arc(v.cx,v.cy,F,mn(v.y11,v.x11),mn(v.y01,v.x01),!m))):a.arc(0,0,h,O,x,m):a.lineTo(B,U)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var i=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,n=(+s.apply(this,arguments)+ +r.apply(this,arguments))/2-On/2;return[gn(n)*i,wn(n)*i]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:fn(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:fn(+e),l):t},l.cornerRadius=function(e){return arguments.length?(i="function"==typeof e?e:fn(+e),l):i},l.padRadius=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:fn(+e),l):n},l.startAngle=function(e){return arguments.length?(s="function"==typeof e?e:fn(+e),l):s},l.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:fn(+e),l):r},l.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:fn(+e),l):o},l.context=function(e){return arguments.length?(a=null==e?null:e,l):a},l}().startAngle((function(e){return e.x0})).endAngle((function(e){return e.x1})).innerRadius((function(e){return e.y0})).outerRadius((function(e){return e.y1})),n=qi(this.hierarchy);n.sum(e=>e.value),e(n);let s=Fe(this.svgG).selectAll("g").data(n.descendants()).enter().append("g").attr("class","node").style("cursor","pointer").on("mouseover",this._handleMouseOver.bind(this)).on("mouseout",this._handleMouseOut.bind(this));s.append("path").attr("d",i).attr("id",e=>"olm-sunburst-"+e.data.src.id).classed("the-node",!0).style("fill",e=>e.data.color).style("stroke","#2f2f2f"),s.filter(e=>e.data.hash).append("path").attr("d",i).classed("the-node",!0).attr("fill","url(#diagonalHatch)").style("stroke","#2f2f2f")}_drawLegend(){let e=Fe(this.svg),t=this.viewBoxHeight+10,i=this.viewBoxHeight-130,n=(n,s)=>{e.append("rect").attr("x",t).attr("y",i).attr("width",16).attr("height",16).style("fill",n),e.append("text").attr("x",t+16+10).attr("y",i+16).style("fill",this.fontColor).text(s).attr("text-anchor","left").style("alignment-baseline","baseline")};n(this.noValueColor,this.i18n[this.language].legend.noMastery),i+=26;for(let e=0;e<this.colors.length;e++){let t=this.i18n[this.language].legend.masteryBetween;t+=0===e?"["+this._formatValue("mastery",0):"]"+this._formatValue("mastery",this.colors[e-1].to),e===this.colors.length-1?t+=`,${this._formatValue("mastery",1)}]`:t+=`,${this._formatValue("mastery",this.colors[e].to)}]`,n(this.colors[e].color,t),i+=26}this.useHash&&(n("rgba(255, 255, 2555, .8)",this.i18n[this.language].legend.trustTreshold+this._formatValue("trust",this.hashTreshold)),e.append("rect").attr("x",t).attr("y",i).attr("width",16).attr("height",16).style("fill","url(#diagonalHatch)"))}_drawDetails(e){let t=16,i=Fe(this.svg);i.append("text").attr("x",this.viewBoxHeight+10).attr("y",t).style("fill",this.fontColor).text(e.data.src.data.name).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline").style("font-weight","bold"),t+=26,i.append("text").attr("x",this.viewBoxHeight+10).attr("y",t).style("fill",this.fontColor).text("Taux de maîtrise : "+this._formatValue("mastery",e.data.src.data.mastery)).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline"),t+=26,i.append("text").attr("x",this.viewBoxHeight+10).attr("y",t).style("fill",this.fontColor).text("Taux de confiance : "+this._formatValue("trust",e.data.src.data.trust)).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline"),t+=26,i.append("text").attr("x",this.viewBoxHeight+10).attr("y",t).style("fill",this.fontColor).text("Taux de couverture : "+this._formatValue("cover",e.data.src.data.cover)).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline")}getSVGId(){return this.svgId}_buildHierarchy(){return function e(t){let i=null,n=this.noValueColor;if(void 0===t.data.mastery)n=this.noValueColor;else if(0!==t.children.length&&t.data.cover>0||t.data.trust>0){let e=0;for(n=this.colors[e].color;e<this.colors.length-1&&t.data.mastery>this.colors[e].to;)e++,n=this.colors[e].color}i=t.children.length>0?{name:t.data.name,children:[],color:n,hash:this.useHash&&t.data.trust<this.hashTreshold,src:t}:{name:t.data.name,color:n,value:1,hash:this.useHash&&t.data.trust<this.hashTreshold,src:t};for(var s=0,r=t.children.length;s<r;s++){let n=this.framework.getNode(t.children[s]);i.children.push(e.bind(this,n)())}return i}.bind(this,this.framework.getRoot())()}_handleMouseOver(e,t){let i="olm-sunburst-"+t.data.src.id;Fe(document.getElementById(i)).transition().duration(200).style("fill","rgba(211,211,211,0.8)"),this._drawDetails(t),this.onMouseOver(t.data.src)}_handleMouseOut(e,t){let i="olm-sunburst-"+t.data.src.id;Fe(document.getElementById(i)).transition().duration(200).style("fill",t.data.color),on(".olm-treepack-label").remove(),this.onMouseOut(t.data.src)}_formatValue(e,t){if(isNaN(t)||null==t)return"-";switch(e){case"mastery":switch(this.formatMastery){case"1decimal":return(Math.round(10*t)/10).toString();case"2decimal":return(Math.round(100*t)/100).toString();case"percentage":return Math.round(100*t).toString()+"%"}break;case"cover":switch(this.formatCover){case"percentage":return Math.round(100*t).toString()+"%"}break;case"trust":switch(this.formatTrust){case"percentage":return Math.round(100*t).toString()+"%"}}return"a"}},An.TreePartition=class{constructor(e,t,i={}){this.onMouseOver=()=>{},this.onMouseOut=()=>{},this.colors=[{to:.25,color:"#cf000f"},{to:.5,color:"#f57f17"},{to:.75,color:"#ffee58"},{color:"#4caf50"}],this.noValueColor="#808080",this.fontColor="rgba(255, 255, 255, .85)",this.backgroundColor="#343a40",this.useHash=!0,this.hashTreshold=0,this.useLegend=!0,this.formatMastery="percentage",this.formatCover="percentage",this.formatTrust="percentage",this.framework=null,this.hierarchy=null,this.elem=null,this.svg=null,this.svgG=null,this.svgId=null,this.infos=null,this.viewBoxWidth=800,this.viewBoxHeight=400,this.language="fr",this.i18n={fr:{information:{mastery:{name:"Taux de maîtrise",description:"Estime ton niveau de maîtrise pour chaque compétence, calculé en fonction des travaux effectués en lien avec cette compétence."},trust:{name:"Taux de confiance",description:"Indique la confiance dans le calcul du taux de maîtrise. Cet indice dépend du nombre et de la nature des travaux effectués."},cover:{name:"Taux de couverture",description:"Indique le pourcentage des sous-compétences travaillées."}},legend:{noMastery:"Maîtrise non évaluée",masteryBetween:"maîtrise ∈ ",trustTreshold:"confiance < "}}},this.elem=e,this.framework=s.copy(t),this.elem.style.position="relative",this.viewBoxWidth=e.offsetWidth,this.viewBoxHeight=e.offsetHeight,void 0!==i.useHash&&(this.useHash=i.useHash),void 0!==i.hashTreshold&&(this.hashTreshold=i.hashTreshold),void 0!==i.useLegend&&(this.useLegend=i.useLegend),void 0!==i.colors&&(this.colors=i.colors),void 0!==i.noValueColor&&(this.noValueColor=i.noValueColor),void 0!==i.formatMastery&&(this.formatMastery=i.formatMastery),void 0!==i.formatCover&&(this.formatCover=i.formatCover),void 0!==i.formatTrust&&(this.formatTrust=i.formatTrust),void 0!==i.fontColor&&(this.fontColor=i.fontColor),void 0!==i.backgroundColor&&(this.backgroundColor=i.backgroundColor),this.hierarchy=this._buildHierarchy();let n=()=>{this.elem.innerHTML="",this.viewBoxWidth=e.offsetWidth,this.viewBoxHeight=e.offsetHeight,this.draw()};n.bind(this),window.addEventListener("resize",n)}draw(e=n.makeId()){this.svgId=e,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.id=this.svgId;let t=this.viewBoxWidth.toString(),i=this.viewBoxHeight.toString();this.svg.setAttribute("viewBox","0 0 "+t+" "+i),this.svg.setAttribute("width","100%"),this.svg.setAttribute("height","100%"),this.svg.style.cssText+="width: 100% !important; height: 100% !important;",this.svgG=document.createElementNS("http://www.w3.org/2000/svg","g"),this.svg.appendChild(this.svgG),this.elem.appendChild(this.svg),this._drawInfos(),this.useHash&&this._drawHash(),this._drawPacks(),this.useLegend&&this._drawLegend()}_drawInfos(){this.infos=document.createElement("div"),this.infos.innerHTML='<svg width="20px" height="20px" viewBox="0 0 16 16"  fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n                                    <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>\n                                </svg>',this.infos.setAttribute("style","position: absolute; top: 0; left : 0; cursor: help; color:"+this.fontColor);let e=document.createElement("div");e.innerHTML=`<h4> Informations </h4>\n                                <hr style="background-color:${this.fontColor} "/>\n                                <p><b>${this.i18n[this.language].information.mastery.name}</b>:<br/>${this.i18n[this.language].information.mastery.description}</p>\n                                <p><b>${this.i18n[this.language].information.trust.name}</b>:<br/>${this.i18n[this.language].information.trust.description}</p>\n                                <p><b>${this.i18n[this.language].information.cover.name}</b>:<br/>${this.i18n[this.language].information.cover.description}</p>`;let t=`border-radius:    15px; \n                                        opacity:          .95; \n                                        position:         absolute; \n                                        padding:          30px; \n                                        top:              0; \n                                        left:             0; \n                                        color:            ${this.fontColor};\n                                        background-color: ${this.backgroundColor}; \n                                        width:            ${this.viewBoxWidth.toString()}px; \n                                        height:           ${this.viewBoxHeight.toString()}px; \n                                        display:          none`;e.setAttribute("style",t),this.elem.appendChild(e),this.elem.appendChild(this.infos),this.infos.addEventListener("mouseenter",()=>{e.style.display="block"}),this.infos.addEventListener("mouseleave",()=>{e.style.display="none"})}_drawHash(){Fe(this.svg).append("defs").append("pattern").attr("id","diagonalHatch").attr("patternUnits","userSpaceOnUse").attr("width",4).attr("height",4).append("circle").attr("cx",2).attr("cy",2).attr("r",1).attr("stroke-width",0).attr("fill","#404040")}_drawPacks(){var e=rn();let t=this.viewBoxHeight-140,i=this.viewBoxWidth;e.size([i,t]);let n=qi(this.hierarchy);n.sum(e=>e.value),e(n);var s=Fe(this.svgG).selectAll("g").data(n.descendants()).enter().append("g").attr("class","node").attr("transform",e=>"translate("+[e.x0,e.y0+140]+")").on("mouseover",this._handleMouseOver.bind(this)).on("mouseout",this._handleMouseOut.bind(this));s.append("rect").classed("the-node",!0).attr("id",e=>"olm-partition-"+e.data.src.id).attr("width",e=>e.x1-e.x0).attr("height",e=>e.y1-e.y0).style("fill",e=>e.data.color).style("cursor","pointer").style("stroke","#2f2f2f"),s.filter(e=>e.data.hash).append("rect").classed("the-node",!0).attr("width",e=>e.x1-e.x0).attr("height",e=>e.y1-e.y0).attr("fill","url(#diagonalHatch)").style("cursor","pointer").style("stroke","#2f2f2f")}_drawLegend(){let e=Fe(this.svg),t=0,i=(i,n)=>{e.append("rect").attr("x",30).attr("y",t).attr("width",16).attr("height",16).style("fill",i),e.append("text").attr("x",56).attr("y",t+16).style("fill",this.fontColor).text(n).attr("text-anchor","left").style("alignment-baseline","baseline")};i(this.noValueColor,this.i18n[this.language].legend.noMastery),t+=26;for(let e=0;e<this.colors.length;e++){let n=this.i18n[this.language].legend.masteryBetween;n+=0===e?"["+this._formatValue("mastery",0):"]"+this._formatValue("mastery",this.colors[e-1].to),e===this.colors.length-1?n+=`,${this._formatValue("mastery",1)}]`:n+=`,${this._formatValue("mastery",this.colors[e].to)}]`,i(this.colors[e].color,n),t+=26}this.useHash&&(i("rgba(255, 255, 2555, .8)",this.i18n[this.language].legend.trustTreshold+this._formatValue("trust",this.hashTreshold)),e.append("rect").attr("x",30).attr("y",t).attr("width",16).attr("height",16).style("fill","url(#diagonalHatch)"))}_drawDetails(e){let t=16,i=220,n=Fe(this.svg);n.append("text").attr("x",i).attr("y",t).style("fill",this.fontColor).text(e.data.src.data.name).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline").style("font-weight","bold"),t+=26,n.append("text").attr("x",i).attr("y",t).style("fill",this.fontColor).text("Taux de maîtrise : "+this._formatValue("mastery",e.data.src.data.mastery)).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline"),t+=26,n.append("text").attr("x",i).attr("y",t).style("fill",this.fontColor).text("Taux de confiance : "+this._formatValue("trust",e.data.src.data.trust)).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline"),t+=26,n.append("text").attr("x",i).attr("y",t).style("fill",this.fontColor).text("Taux de couverture : "+this._formatValue("cover",e.data.src.data.cover)).attr("class","olm-treepack-label").attr("text-anchor","left").style("alignment-baseline","baseline")}getSVGId(){return this.svgId}_buildHierarchy(){return function e(t){let i=null,n=this.noValueColor;if(void 0===t.data.mastery)n=this.noValueColor;else if(0!==t.children.length&&t.data.cover>0||t.data.trust>0){let e=0;for(n=this.colors[e].color;e<this.colors.length-1&&t.data.mastery>this.colors[e].to;)e++,n=this.colors[e].color}i=t.children.length>0?{name:t.data.name,children:[],color:n,hash:this.useHash&&t.data.trust<this.hashTreshold,src:t}:{name:t.data.name,color:n,value:1,hash:this.useHash&&t.data.trust<this.hashTreshold,src:t};for(var s=0,r=t.children.length;s<r;s++){let n=this.framework.getNode(t.children[s]);i.children.push(e.bind(this,n)())}return i}.bind(this,this.framework.getRoot())()}_handleMouseOver(e,t){let i="olm-partition-"+t.data.src.id;Fe(document.getElementById(i)).transition().duration(200).style("fill","rgba(211,211,211,0.8)"),this._drawDetails(t),this.onMouseOver(t.data.src)}_handleMouseOut(e,t){let i="olm-partition-"+t.data.src.id;Fe(document.getElementById(i)).transition().duration(200).style("fill",t.data.color),on(".olm-treepack-label").remove(),this.onMouseOut(t.data.src)}_formatValue(e,t){if(isNaN(t)||null==t)return"-";switch(e){case"mastery":switch(this.formatMastery){case"1decimal":return(Math.round(10*t)/10).toString();case"2decimal":return(Math.round(100*t)/100).toString();case"percentage":return Math.round(100*t).toString()+"%"}break;case"cover":switch(this.formatCover){case"percentage":return Math.round(100*t).toString()+"%"}break;case"trust":switch(this.formatTrust){case"percentage":return Math.round(100*t).toString()+"%"}}return"a"}},An.TreeIndented=class{constructor(e,t,i){this.onClick=null,this.onMouseEnter=null,this.onMouseLeave=null,this.colors=[{to:.25,color:"#cf000f"},{to:.5,color:"#f57f17"},{to:.75,color:"#ffee58"},{color:"#4caf50"}],this.noValueColor="#808080",this.fontColor="rgba(255, 255, 255, .85)",this.fontHoverColor="rgba(255, 255, 255, 1)",this.backgroundColor="#343a40",this.showMastery=!0,this.formatMastery="percentage",this.showCover=!0,this.formatCover="percentage",this.showTrust=!0,this.formatTrust="percentage",this.elem=null,this.htmlRoot=null,this.framework=null,this.frameworkTree=null,this.infos=null,this.language="fr",this.i18n={fr:{headers:{cover:"couverture",mastery:"maîtrise",trust:"confiance"},information:{mastery:{name:"Taux de maîtrise",description:"Estime ton niveau de maîtrise pour chaque compétence, calculé en fonction des travaux effectués en lien avec cette compétence."},trust:{name:"Taux de confiance",description:"Indique la confiance dans le calcul du taux de maîtrise. Cet indice dépend du nombre et de la nature des travaux effectués."},cover:{name:"Taux de couverture",description:"Indique le pourcentage des sous-compétences travaillées."}}}},this._caretDown='<svg width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                                        <path fill-rule="evenodd" d="M3.204 5L8 10.481 12.796 5H3.204zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>\n                                    </svg>',this._sCaretDown="display: inline-block; \n                                     margin-left: 10px;\n                                     vertical-align: bottom;\n                                     padding-left: 3px;\n                                     padding-bottom: 3px;\n                                     box-sizing: border-box;\n                                     width: 21px;\n                                     cursor: pointer",this._caretRight='<svg width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                                        <path fill-rule="evenodd" d="M6 12.796L11.481 8 6 3.204v9.592zm.659.753l5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z"/>\n                                    </svg>',this._sCaretRight="display: inline-block; \n                                     margin-left: 10px;\n                                     vertical-align: bottom;\n                                     padding-left: 5px;\n                                     padding-bottom: 3px;\n                                     box-sizing: border-box;\n                                     width: 21px;\n                                     cursor: pointer",this._sNoCaret="display: inline-block; \n                                     margin-left: 10px;\n                                     width : 21px;\n                                     vertical-align: bottom;\n                                     padding-left: 5px;\n                                     padding-bottom: 3px;\n                                     box-sizing: border-box;\n                                     pointer-event: none;",this.elem=e,this.elem.style.position="relative",this.framework=s.copy(t),this.frameworkTree=this._buildHierarchy(),void 0!==i.fontColor&&(this.fontColor=i.fontColor),void 0!==i.fontHoverColor&&(this.fontHoverColor=i.fontHoverColor),void 0!==i.colors&&(this.colors=i.colors),void 0!==i.noValueColor&&(this.noValueColor=i.noValueColor),void 0!==i.showMastery&&(this.showMastery=i.showMastery),void 0!==i.showTrust&&(this.showTrust=i.showTrust),void 0!==i.showCover&&(this.showCover=i.showCover),void 0!==i.formatMastery&&(this.formatMastery=i.formatMastery),void 0!==i.formatCover&&(this.formatCover=i.formatCover),void 0!==i.formatTrust&&(this.formatTrust=i.formatTrust),void 0!==i.backgroundColor&&(this.backgroundColor=i.backgroundColor),this._createHTMLRoot()}draw(){(this.showCover||this.showMastery||this.showTrust)&&this._drawHeader();for(let e=0;e<this.frameworkTree.length;e++){let t=this.frameworkTree[e],i=document.createElement("div");i.style.color=this.fontColor,i.style.fontFamily='"Times New Roman", Times, serif';let n=this._createCaret(t);i.appendChild(n),i.appendChild(this._createScoreElement(t));let s=this._createContentElement(t);null!==this.onClick&&(s.style.cursor="pointer"),i.appendChild(s);let r=[s];if(this.showCover){let e=this._formatValue("cover",t.src.data.cover),n=this._createStatElement(e);i.appendChild(n),r.push(n)}if(this.showTrust){let e=this._formatValue("trust",t.src.data.trust),n=this._createStatElement(e);i.appendChild(n),r.push(n)}if(this.showMastery){let e=this._formatValue("mastery",t.src.data.mastery),n=this._createStatElement(e);i.appendChild(n),r.push(n)}s.addEventListener("mouseenter",this._handleContentMouseEnter.bind(this,r,t)),s.addEventListener("mouseleave",this._handleContentMouseLeave.bind(this,r,t)),null!==this.onClick&&s.addEventListener("click",this._handleContentClick.bind(this,t));let o=this._createChildrenContainerElement(t.id);i.appendChild(o),void 0!==t.parent&&null!==t.parent?document.getElementById("olm-tree-indented-bloc-"+t.parent).appendChild(i):this.htmlRoot.appendChild(i),n.addEventListener("click",this._toggleCaret.bind(this,n,o))}this._drawInfos()}_drawInfos(){this.infos=document.createElement("div"),this.infos.innerHTML='<svg width="20px" height="20px" viewBox="0 0 16 16"  fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n                                    <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>\n                                </svg>',this.infos.setAttribute("style","position: absolute; top: 0; left : 0; cursor: help; color:"+this.fontColor);let e=document.createElement("div");e.innerHTML=`<h4> Informations </h4>\n                                <hr style="background-color:${this.fontColor} "/>\n                                <p><b>${this.i18n[this.language].information.mastery.name}</b>:<br/>${this.i18n[this.language].information.mastery.description}</p>\n                                <p><b>${this.i18n[this.language].information.trust.name}</b>:<br/>${this.i18n[this.language].information.trust.description}</p>\n                                <p><b>${this.i18n[this.language].information.cover.name}</b>:<br/>${this.i18n[this.language].information.cover.description}</p>`;let t=`border-radius:    15px; \n                                        opacity:          .95; \n                                        position:         absolute; \n                                        padding:          30px; \n                                        top:              0; \n                                        left:             0; \n                                        color:            ${this.fontColor};\n                                        background-color: ${this.backgroundColor}; \n                                        width:            ${this.elem.offsetWidth.toString()}px; \n                                        height:           ${this.elem.offsetHeight.toString()}px; \n                                        display:          none`;e.setAttribute("style",t),this.elem.appendChild(e),this.elem.appendChild(this.infos),this.infos.addEventListener("mouseenter",()=>{e.style.display="block"}),this.infos.addEventListener("mouseleave",()=>{e.style.display="none"})}_buildHierarchy(){let e=this.framework.getRoot(),t=[];this.framework.traverseDeepFirst(e=>{t.push(e)}),t=t.reverse();let i=[];return t.forEach(t=>{let n={id:t.id,parent:t.id===e.id?void 0:t.parent,src:t};i.push(n)}),i}_handleContentMouseEnter(e,t,i){e.forEach(e=>{e.style.color=this.fontHoverColor,e.style.fontWeight="bold"}),null!==this.onMouseEnter&&this.onMouseEnter(t.src)}_handleContentMouseLeave(e,t,i){e.forEach(e=>{e.style.color=this.fontColor,e.style.fontWeight="normal"}),null!==this.onMouseLeave&&this.onMouseLeave(t.src)}_handleContentClick(e,t){this.onClick(e.src)}_toggleCaret(e,t,i){"none"===t.style.display?(t.style.display="block",e.innerHTML=this._caretDown,e.setAttribute("style",this._sCaretDown)):(t.style.display="none",e.innerHTML=this._caretRight,e.setAttribute("style",this._sCaretRight))}_createScoreElement(e){let t="rgba(0,0,0,0)",i="solid 1px #808080";if(void 0===e.src.data.mastery)t="rgba(0,0,0,0)";else if(void 0!==e.src.children&&(0!==e.src.children.length&&e.src.data.cover>0||e.src.data.trust>0)){let n=0;for(t=this.colors[n].color;n<this.colors.length-1&&e.src.data.mastery>this.colors[n].to;)n++,t=this.colors[n].color;i="none"}let n=document.createElement("span"),s=`display: inline-block; \n                     width: 21px; \n                     height: 21px; \n                     border-radius : 100%;\n                     background: ${t};\n                     margin-left: 5px;\n                     vertical-align: text-top;\n                     border: ${i};\n                     box-sizing: border-box;`;return n.setAttribute("style",s),n}_createContentElement(e){let t=document.createElement("span");return t.textContent=e.src.data.name,t.style.paddingLeft="5px",void 0!==e.src.data.children&&0===e.src.data.children.length&&0===e.src.data.trust&&(t.style.opacity=".3"),t}_createStatElement(e){let t=document.createElement("span");return t.setAttribute("style",'float: right; width: 75px; text-align: right; fontFamily: "Courier New", Courier, monospace'),t.textContent=e,t}_createChildrenContainerElement(e){let t=document.createElement("div");return t.id="olm-tree-indented-bloc-"+e,t.style.borderLeft="dashed 1px rgba(255, 255, 255, .3)",t.style.marginLeft="20px",t}_createHTMLRoot(){this.htmlRoot=document.createElement("div"),this.htmlRoot.setAttribute("style","width: max-content; max-height: 800px; border: solid 1px rgba(0,0,0,0);"),this.elem.appendChild(this.htmlRoot)}_drawHeader(){let e=e=>{let t=document.createElement("span");switch(e){case"mastery":t.textContent=this.i18n[this.language].headers.mastery;break;case"trust":t.textContent=this.i18n[this.language].headers.trust;break;case"cover":t.textContent=this.i18n[this.language].headers.cover}return t.setAttribute("style","width: 75px; float: right; text-align: right; color: "+this.fontColor+"; margin-right: -3pt;"),t},t=document.createElement("div");t.setAttribute("style","width: 100%; height: 1.5em; border-image : linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, .85) 1 100%;"),this.showCover&&t.appendChild(e("cover")),this.showTrust&&t.appendChild(e("trust")),this.showMastery&&t.appendChild(e("mastery"));let i=document.createElement("div");i.setAttribute("style","\n        background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, .85));\n        display: block;\n        height:1px;\n        width: 100%;\n        float: right;"),t.appendChild(i),this.htmlRoot.appendChild(t)}_createCaret(e){let t=document.createElement("span");return e.src.children.length>0?(t.innerHTML=this._caretDown,t.setAttribute("style",this._sCaretDown)):t.setAttribute("style",this._sNoCaret),t}_formatValue(e,t){if(isNaN(t)||null==t)return"-";switch(e){case"mastery":switch(this.formatMastery){case"1decimal":return(Math.round(10*t)/10).toString();case"2decimal":return(Math.round(100*t)/100).toString();case"percentage":return Math.round(100*t).toString()+"%"}break;case"cover":switch(this.formatCover){case"percentage":return Math.round(100*t).toString()+"%"}break;case"trust":switch(this.formatTrust){case"percentage":return Math.round(100*t).toString()+"%"}}return"a"}},document._OLM=An}});